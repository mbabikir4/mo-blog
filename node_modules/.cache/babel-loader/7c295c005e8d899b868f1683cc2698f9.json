{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ReferenceArrayField = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _LinearProgress = require('material-ui/LinearProgress');\n\nvar _LinearProgress2 = _interopRequireDefault(_LinearProgress);\n\nvar _lodash = require('lodash.get');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _accumulateActions = require('../../actions/accumulateActions');\n\nvar _oneToMany = require('../../reducer/admin/references/oneToMany');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * A container component that fetches records from another resource specified\n * by an array of *ids* in current record.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Display all the products of the current order as datagrid\n * // order = {\n * //   id: 123,\n * //   product_ids: [456, 457, 458],\n * // }\n * <ReferenceArrayField label=\"Products\" reference=\"products\" source=\"product_ids\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"description\" />\n *         <NumberField source=\"price\" options={{ style: 'currency', currency: 'USD' }} />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceArrayField>\n *\n * @example Display all the categories of the current product as a list of chips\n * // product = {\n * //   id: 456,\n * //   category_ids: [11, 22, 33],\n * // }\n * <ReferenceArrayField label=\"Categories\" reference=\"categories\" source=\"category_ids\">\n *     <SingleFieldList>\n *         <ChipField source=\"name\" />\n *     </SingleFieldList>\n * </ReferenceArrayField>\n *\n */\n\n\nvar ReferenceArrayField = exports.ReferenceArrayField = function (_Component) {\n  (0, _inherits3.default)(ReferenceArrayField, _Component);\n\n  function ReferenceArrayField() {\n    (0, _classCallCheck3.default)(this, ReferenceArrayField);\n    return (0, _possibleConstructorReturn3.default)(this, (ReferenceArrayField.__proto__ || Object.getPrototypeOf(ReferenceArrayField)).apply(this, arguments));\n  }\n\n  (0, _createClass3.default)(ReferenceArrayField, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.fetchReferences();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.record.id !== nextProps.record.id) {\n        this.fetchReferences(nextProps);\n      }\n    }\n  }, {\n    key: 'fetchReferences',\n    value: function fetchReferences() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props,\n          crudGetManyAccumulate = _ref.crudGetManyAccumulate,\n          reference = _ref.reference,\n          ids = _ref.ids;\n\n      crudGetManyAccumulate(reference, ids);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          resource = _props.resource,\n          reference = _props.reference,\n          data = _props.data,\n          ids = _props.ids,\n          children = _props.children,\n          basePath = _props.basePath,\n          isLoading = _props.isLoading;\n\n      if (_react2.default.Children.count(children) !== 1) {\n        throw new Error('<ReferenceArrayField> only accepts a single child (like <Datagrid>)');\n      }\n\n      if (ids.length !== 0 && Object.keys(data).length !== ids.length) {\n        return _react2.default.createElement(_LinearProgress2.default, {\n          style: {\n            marginTop: '1em'\n          }\n        });\n      }\n\n      var referenceBasePath = basePath.replace(resource, reference); // FIXME obviously very weak\n\n      return _react2.default.cloneElement(children, {\n        resource: reference,\n        ids: ids,\n        data: data,\n        isLoading: isLoading,\n        basePath: referenceBasePath,\n        currentSort: {}\n      });\n    }\n  }]);\n  return ReferenceArrayField;\n}(_react.Component);\n\nReferenceArrayField.propTypes = {\n  addLabel: _propTypes2.default.bool,\n  basePath: _propTypes2.default.string.isRequired,\n  children: _propTypes2.default.element.isRequired,\n  crudGetManyAccumulate: _propTypes2.default.func.isRequired,\n  data: _propTypes2.default.object,\n  ids: _propTypes2.default.array.isRequired,\n  isLoading: _propTypes2.default.bool,\n  label: _propTypes2.default.string,\n  record: _propTypes2.default.object.isRequired,\n  reference: _propTypes2.default.string.isRequired,\n  resource: _propTypes2.default.string.isRequired,\n  source: _propTypes2.default.string.isRequired\n};\nvar emptyIds = [];\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  var record = props.record,\n      source = props.source,\n      reference = props.reference;\n  var ids = (0, _lodash2.default)(record, source) || emptyIds;\n  return {\n    data: (0, _oneToMany.getReferencesByIds)(state, reference, ids),\n    ids: ids,\n    isLoading: state.admin.loading > 0\n  };\n};\n\nvar ConnectedReferenceArrayField = (0, _reactRedux.connect)(mapStateToProps, {\n  crudGetManyAccumulate: _accumulateActions.crudGetManyAccumulate\n})(ReferenceArrayField);\nConnectedReferenceArrayField.defaultProps = {\n  addLabel: true\n};\nexports.default = ConnectedReferenceArrayField;","map":{"version":3,"sources":["C:/Users/m2bab/VM/rd2/frontend/node_modules/admin-on-rest/lib/mui/field/ReferenceArrayField.js"],"names":["Object","defineProperty","exports","value","ReferenceArrayField","undefined","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_reactRedux","_LinearProgress","_LinearProgress2","_lodash","_lodash2","_accumulateActions","_oneToMany","obj","__esModule","default","_Component","__proto__","getPrototypeOf","apply","arguments","key","componentDidMount","fetchReferences","componentWillReceiveProps","nextProps","props","record","id","_ref","length","crudGetManyAccumulate","reference","ids","render","_props","resource","data","children","basePath","isLoading","Children","count","Error","keys","createElement","style","marginTop","referenceBasePath","replace","cloneElement","currentSort","Component","propTypes","addLabel","bool","string","isRequired","element","func","object","array","label","source","emptyIds","mapStateToProps","state","getReferencesByIds","admin","loading","ConnectedReferenceArrayField","connect","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ReferenceArrayField = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _LinearProgress = require('material-ui/LinearProgress');\n\nvar _LinearProgress2 = _interopRequireDefault(_LinearProgress);\n\nvar _lodash = require('lodash.get');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _accumulateActions = require('../../actions/accumulateActions');\n\nvar _oneToMany = require('../../reducer/admin/references/oneToMany');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * A container component that fetches records from another resource specified\n * by an array of *ids* in current record.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Display all the products of the current order as datagrid\n * // order = {\n * //   id: 123,\n * //   product_ids: [456, 457, 458],\n * // }\n * <ReferenceArrayField label=\"Products\" reference=\"products\" source=\"product_ids\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"description\" />\n *         <NumberField source=\"price\" options={{ style: 'currency', currency: 'USD' }} />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceArrayField>\n *\n * @example Display all the categories of the current product as a list of chips\n * // product = {\n * //   id: 456,\n * //   category_ids: [11, 22, 33],\n * // }\n * <ReferenceArrayField label=\"Categories\" reference=\"categories\" source=\"category_ids\">\n *     <SingleFieldList>\n *         <ChipField source=\"name\" />\n *     </SingleFieldList>\n * </ReferenceArrayField>\n *\n */\nvar ReferenceArrayField = exports.ReferenceArrayField = function (_Component) {\n    (0, _inherits3.default)(ReferenceArrayField, _Component);\n\n    function ReferenceArrayField() {\n        (0, _classCallCheck3.default)(this, ReferenceArrayField);\n        return (0, _possibleConstructorReturn3.default)(this, (ReferenceArrayField.__proto__ || Object.getPrototypeOf(ReferenceArrayField)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(ReferenceArrayField, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.fetchReferences();\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (this.props.record.id !== nextProps.record.id) {\n                this.fetchReferences(nextProps);\n            }\n        }\n    }, {\n        key: 'fetchReferences',\n        value: function fetchReferences() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props,\n                crudGetManyAccumulate = _ref.crudGetManyAccumulate,\n                reference = _ref.reference,\n                ids = _ref.ids;\n\n            crudGetManyAccumulate(reference, ids);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                resource = _props.resource,\n                reference = _props.reference,\n                data = _props.data,\n                ids = _props.ids,\n                children = _props.children,\n                basePath = _props.basePath,\n                isLoading = _props.isLoading;\n\n\n            if (_react2.default.Children.count(children) !== 1) {\n                throw new Error('<ReferenceArrayField> only accepts a single child (like <Datagrid>)');\n            }\n\n            if (ids.length !== 0 && Object.keys(data).length !== ids.length) {\n                return _react2.default.createElement(_LinearProgress2.default, { style: { marginTop: '1em' } });\n            }\n\n            var referenceBasePath = basePath.replace(resource, reference); // FIXME obviously very weak\n            return _react2.default.cloneElement(children, {\n                resource: reference,\n                ids: ids,\n                data: data,\n                isLoading: isLoading,\n                basePath: referenceBasePath,\n                currentSort: {}\n            });\n        }\n    }]);\n    return ReferenceArrayField;\n}(_react.Component);\n\nReferenceArrayField.propTypes = {\n    addLabel: _propTypes2.default.bool,\n    basePath: _propTypes2.default.string.isRequired,\n    children: _propTypes2.default.element.isRequired,\n    crudGetManyAccumulate: _propTypes2.default.func.isRequired,\n    data: _propTypes2.default.object,\n    ids: _propTypes2.default.array.isRequired,\n    isLoading: _propTypes2.default.bool,\n    label: _propTypes2.default.string,\n    record: _propTypes2.default.object.isRequired,\n    reference: _propTypes2.default.string.isRequired,\n    resource: _propTypes2.default.string.isRequired,\n    source: _propTypes2.default.string.isRequired\n};\n\nvar emptyIds = [];\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n    var record = props.record,\n        source = props.source,\n        reference = props.reference;\n\n    var ids = (0, _lodash2.default)(record, source) || emptyIds;\n    return {\n        data: (0, _oneToMany.getReferencesByIds)(state, reference, ids),\n        ids: ids,\n        isLoading: state.admin.loading > 0\n    };\n};\n\nvar ConnectedReferenceArrayField = (0, _reactRedux.connect)(mapStateToProps, {\n    crudGetManyAccumulate: _accumulateActions.crudGetManyAccumulate\n})(ReferenceArrayField);\n\nConnectedReferenceArrayField.defaultProps = {\n    addLabel: true\n};\n\nexports.default = ConnectedReferenceArrayField;"]},"metadata":{},"sourceType":"script"}