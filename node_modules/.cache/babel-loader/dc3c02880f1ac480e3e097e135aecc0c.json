{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Show = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _Card = require('material-ui/Card');\n\nvar _compose = require('recompose/compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _inflection = require('inflection');\n\nvar _inflection2 = _interopRequireDefault(_inflection);\n\nvar _ViewTitle = require('../layout/ViewTitle');\n\nvar _ViewTitle2 = _interopRequireDefault(_ViewTitle);\n\nvar _Title = require('../layout/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _dataActions = require('../../actions/dataActions');\n\nvar _ShowActions = require('./ShowActions');\n\nvar _ShowActions2 = _interopRequireDefault(_ShowActions);\n\nvar _translate = require('../../i18n/translate');\n\nvar _translate2 = _interopRequireDefault(_translate);\n\nvar _withPermissionsFilteredChildren = require('../../auth/withPermissionsFilteredChildren');\n\nvar _withPermissionsFilteredChildren2 = _interopRequireDefault(_withPermissionsFilteredChildren);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Show = exports.Show = function (_Component) {\n  (0, _inherits3.default)(Show, _Component);\n\n  function Show() {\n    (0, _classCallCheck3.default)(this, Show);\n    return (0, _possibleConstructorReturn3.default)(this, (Show.__proto__ || Object.getPrototypeOf(Show)).apply(this, arguments));\n  }\n\n  (0, _createClass3.default)(Show, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.updateData();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.id !== nextProps.id || nextProps.version !== this.props.version) {\n        this.updateData(nextProps.resource, nextProps.id);\n      }\n    }\n  }, {\n    key: 'getBasePath',\n    value: function getBasePath() {\n      var location = this.props.location;\n      return location.pathname.split('/').slice(0, -2).join('/');\n    }\n  }, {\n    key: 'updateData',\n    value: function updateData() {\n      var resource = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.resource;\n      var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.id;\n      this.props.crudGetOne(resource, id, this.getBasePath());\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          _props$actions = _props.actions,\n          actions = _props$actions === undefined ? _react2.default.createElement(_ShowActions2.default, null) : _props$actions,\n          title = _props.title,\n          children = _props.children,\n          id = _props.id,\n          data = _props.data,\n          isLoading = _props.isLoading,\n          resource = _props.resource,\n          hasList = _props.hasList,\n          hasDelete = _props.hasDelete,\n          hasEdit = _props.hasEdit,\n          translate = _props.translate,\n          version = _props.version;\n      if (!children) return null;\n      var basePath = this.getBasePath();\n      var resourceName = translate('resources.' + resource + '.name', {\n        smart_count: 1,\n        _: _inflection2.default.humanize(_inflection2.default.singularize(resource))\n      });\n      var defaultTitle = translate('aor.page.show', {\n        name: '' + resourceName,\n        id: id,\n        data: data\n      });\n      var titleElement = data ? _react2.default.createElement(_Title2.default, {\n        title: title,\n        record: data,\n        defaultTitle: defaultTitle\n      }) : '';\n      return _react2.default.createElement('div', null, _react2.default.createElement(_Card.Card, {\n        style: {\n          opacity: isLoading ? 0.8 : 1\n        }\n      }, actions && _react2.default.cloneElement(actions, {\n        basePath: basePath,\n        data: data,\n        hasList: hasList,\n        hasDelete: hasDelete,\n        hasEdit: hasEdit,\n        resource: resource\n      }), _react2.default.createElement(_ViewTitle2.default, {\n        title: titleElement\n      }), data && _react2.default.cloneElement(children, {\n        resource: resource,\n        basePath: basePath,\n        record: data,\n        translate: translate,\n        version: version\n      })));\n    }\n  }]);\n  return Show;\n}(_react.Component);\n\nShow.propTypes = {\n  actions: _propTypes2.default.element,\n  children: _propTypes2.default.element,\n  crudGetOne: _propTypes2.default.func.isRequired,\n  data: _propTypes2.default.object,\n  hasList: _propTypes2.default.bool,\n  hasDelete: _propTypes2.default.bool,\n  hasEdit: _propTypes2.default.bool,\n  id: _propTypes2.default.string.isRequired,\n  isLoading: _propTypes2.default.bool.isRequired,\n  location: _propTypes2.default.object.isRequired,\n  match: _propTypes2.default.object.isRequired,\n  resource: _propTypes2.default.string.isRequired,\n  title: _propTypes2.default.any,\n  translate: _propTypes2.default.func,\n  version: _propTypes2.default.number.isRequired\n};\n\nfunction mapStateToProps(state, props) {\n  return {\n    id: decodeURIComponent(props.match.params.id),\n    data: state.admin.resources[props.resource] ? state.admin.resources[props.resource].data[decodeURIComponent(props.match.params.id)] : null,\n    isLoading: state.admin.loading > 0,\n    version: state.admin.ui.viewVersion\n  };\n}\n\nvar enhance = (0, _compose2.default)((0, _reactRedux.connect)(mapStateToProps, {\n  crudGetOne: _dataActions.crudGetOne\n}), _translate2.default, _withPermissionsFilteredChildren2.default);\nexports.default = enhance(Show);","map":{"version":3,"sources":["C:/Users/m2bab/VM/rd2/frontend/node_modules/admin-on-rest/lib/mui/detail/Show.js"],"names":["Object","defineProperty","exports","value","Show","undefined","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_reactRedux","_Card","_compose","_compose2","_inflection","_inflection2","_ViewTitle","_ViewTitle2","_Title","_Title2","_dataActions","_ShowActions","_ShowActions2","_translate","_translate2","_withPermissionsFilteredChildren","_withPermissionsFilteredChildren2","obj","__esModule","default","_Component","__proto__","getPrototypeOf","apply","arguments","key","componentDidMount","updateData","componentWillReceiveProps","nextProps","props","id","version","resource","getBasePath","location","pathname","split","slice","join","length","crudGetOne","render","_props","_props$actions","actions","createElement","title","children","data","isLoading","hasList","hasDelete","hasEdit","translate","basePath","resourceName","smart_count","_","humanize","singularize","defaultTitle","name","titleElement","record","Card","style","opacity","cloneElement","Component","propTypes","element","func","isRequired","object","bool","string","match","any","number","mapStateToProps","state","decodeURIComponent","params","admin","resources","loading","ui","viewVersion","enhance","connect"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Show = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _Card = require('material-ui/Card');\n\nvar _compose = require('recompose/compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _inflection = require('inflection');\n\nvar _inflection2 = _interopRequireDefault(_inflection);\n\nvar _ViewTitle = require('../layout/ViewTitle');\n\nvar _ViewTitle2 = _interopRequireDefault(_ViewTitle);\n\nvar _Title = require('../layout/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _dataActions = require('../../actions/dataActions');\n\nvar _ShowActions = require('./ShowActions');\n\nvar _ShowActions2 = _interopRequireDefault(_ShowActions);\n\nvar _translate = require('../../i18n/translate');\n\nvar _translate2 = _interopRequireDefault(_translate);\n\nvar _withPermissionsFilteredChildren = require('../../auth/withPermissionsFilteredChildren');\n\nvar _withPermissionsFilteredChildren2 = _interopRequireDefault(_withPermissionsFilteredChildren);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Show = exports.Show = function (_Component) {\n    (0, _inherits3.default)(Show, _Component);\n\n    function Show() {\n        (0, _classCallCheck3.default)(this, Show);\n        return (0, _possibleConstructorReturn3.default)(this, (Show.__proto__ || Object.getPrototypeOf(Show)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(Show, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.updateData();\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (this.props.id !== nextProps.id || nextProps.version !== this.props.version) {\n                this.updateData(nextProps.resource, nextProps.id);\n            }\n        }\n    }, {\n        key: 'getBasePath',\n        value: function getBasePath() {\n            var location = this.props.location;\n\n            return location.pathname.split('/').slice(0, -2).join('/');\n        }\n    }, {\n        key: 'updateData',\n        value: function updateData() {\n            var resource = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.resource;\n            var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.id;\n\n            this.props.crudGetOne(resource, id, this.getBasePath());\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                _props$actions = _props.actions,\n                actions = _props$actions === undefined ? _react2.default.createElement(_ShowActions2.default, null) : _props$actions,\n                title = _props.title,\n                children = _props.children,\n                id = _props.id,\n                data = _props.data,\n                isLoading = _props.isLoading,\n                resource = _props.resource,\n                hasList = _props.hasList,\n                hasDelete = _props.hasDelete,\n                hasEdit = _props.hasEdit,\n                translate = _props.translate,\n                version = _props.version;\n\n\n            if (!children) return null;\n            var basePath = this.getBasePath();\n\n            var resourceName = translate('resources.' + resource + '.name', {\n                smart_count: 1,\n                _: _inflection2.default.humanize(_inflection2.default.singularize(resource))\n            });\n            var defaultTitle = translate('aor.page.show', {\n                name: '' + resourceName,\n                id: id,\n                data: data\n            });\n            var titleElement = data ? _react2.default.createElement(_Title2.default, { title: title, record: data, defaultTitle: defaultTitle }) : '';\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    _Card.Card,\n                    { style: { opacity: isLoading ? 0.8 : 1 } },\n                    actions && _react2.default.cloneElement(actions, {\n                        basePath: basePath,\n                        data: data,\n                        hasList: hasList,\n                        hasDelete: hasDelete,\n                        hasEdit: hasEdit,\n                        resource: resource\n                    }),\n                    _react2.default.createElement(_ViewTitle2.default, { title: titleElement }),\n                    data && _react2.default.cloneElement(children, {\n                        resource: resource,\n                        basePath: basePath,\n                        record: data,\n                        translate: translate,\n                        version: version\n                    })\n                )\n            );\n        }\n    }]);\n    return Show;\n}(_react.Component);\n\nShow.propTypes = {\n    actions: _propTypes2.default.element,\n    children: _propTypes2.default.element,\n    crudGetOne: _propTypes2.default.func.isRequired,\n    data: _propTypes2.default.object,\n    hasList: _propTypes2.default.bool,\n    hasDelete: _propTypes2.default.bool,\n    hasEdit: _propTypes2.default.bool,\n    id: _propTypes2.default.string.isRequired,\n    isLoading: _propTypes2.default.bool.isRequired,\n    location: _propTypes2.default.object.isRequired,\n    match: _propTypes2.default.object.isRequired,\n    resource: _propTypes2.default.string.isRequired,\n    title: _propTypes2.default.any,\n    translate: _propTypes2.default.func,\n    version: _propTypes2.default.number.isRequired\n};\n\nfunction mapStateToProps(state, props) {\n    return {\n        id: decodeURIComponent(props.match.params.id),\n        data: state.admin.resources[props.resource] ? state.admin.resources[props.resource].data[decodeURIComponent(props.match.params.id)] : null,\n        isLoading: state.admin.loading > 0,\n        version: state.admin.ui.viewVersion\n    };\n}\n\nvar enhance = (0, _compose2.default)((0, _reactRedux.connect)(mapStateToProps, { crudGetOne: _dataActions.crudGetOne }), _translate2.default, _withPermissionsFilteredChildren2.default);\n\nexports.default = enhance(Show);"]},"metadata":{},"sourceType":"script"}