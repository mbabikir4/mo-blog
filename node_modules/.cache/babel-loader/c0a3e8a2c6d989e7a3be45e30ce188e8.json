{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Restricted = undefined;\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _authActions = require('../actions/authActions');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Restrict access to children\n *\n * Expects an authClient prop, which will be called with AUTH_CHECK upon mount and update\n *\n * Useful for Route components - used in CrudRoute\n *\n * @example\n * <Route path=\"/foo\" render={routeParams =>\n *   <Restricted authClient={authClient} location={routeParams.location}>\n *     <Foo />\n *   </Restricted>\n * } />\n */\n\n\nvar Restricted = exports.Restricted = function (_Component) {\n  (0, _inherits3.default)(Restricted, _Component);\n\n  function Restricted() {\n    (0, _classCallCheck3.default)(this, Restricted);\n    return (0, _possibleConstructorReturn3.default)(this, (Restricted.__proto__ || Object.getPrototypeOf(Restricted)).apply(this, arguments));\n  }\n\n  (0, _createClass3.default)(Restricted, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.checkAuthentication(this.props);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.location !== this.props.location) {\n        this.checkAuthentication(nextProps);\n      }\n    }\n  }, {\n    key: 'checkAuthentication',\n    value: function checkAuthentication(params) {\n      var userCheck = params.userCheck,\n          authParams = params.authParams,\n          location = params.location;\n      userCheck(authParams, location && location.pathname);\n    } // render the child even though the AUTH_CHECK isn't finished (optimistic rendering)\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          userCheck = _props.userCheck,\n          authParams = _props.authParams,\n          location = _props.location,\n          rest = (0, _objectWithoutProperties3.default)(_props, ['children', 'userCheck', 'authParams', 'location']);\n      return _react2.default.cloneElement(children, rest);\n    }\n  }]);\n  return Restricted;\n}(_react.Component);\n\nRestricted.propTypes = {\n  authParams: _propTypes2.default.object,\n  location: _propTypes2.default.object,\n  userCheck: _propTypes2.default.func\n};\nexports.default = (0, _reactRedux.connect)(null, {\n  userCheck: _authActions.userCheck\n})(Restricted);","map":{"version":3,"sources":["C:/Users/m2bab/VM/rd2/frontend/node_modules/admin-on-rest/lib/auth/Restricted.js"],"names":["Object","defineProperty","exports","value","Restricted","undefined","_objectWithoutProperties2","require","_objectWithoutProperties3","_interopRequireDefault","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_reactRedux","_authActions","obj","__esModule","default","_Component","__proto__","getPrototypeOf","apply","arguments","key","componentWillMount","checkAuthentication","props","componentWillReceiveProps","nextProps","location","params","userCheck","authParams","pathname","render","_props","children","rest","cloneElement","Component","propTypes","object","func","connect"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Restricted = undefined;\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _authActions = require('../actions/authActions');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Restrict access to children\n *\n * Expects an authClient prop, which will be called with AUTH_CHECK upon mount and update\n *\n * Useful for Route components - used in CrudRoute\n *\n * @example\n * <Route path=\"/foo\" render={routeParams =>\n *   <Restricted authClient={authClient} location={routeParams.location}>\n *     <Foo />\n *   </Restricted>\n * } />\n */\nvar Restricted = exports.Restricted = function (_Component) {\n    (0, _inherits3.default)(Restricted, _Component);\n\n    function Restricted() {\n        (0, _classCallCheck3.default)(this, Restricted);\n        return (0, _possibleConstructorReturn3.default)(this, (Restricted.__proto__ || Object.getPrototypeOf(Restricted)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(Restricted, [{\n        key: 'componentWillMount',\n        value: function componentWillMount() {\n            this.checkAuthentication(this.props);\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (nextProps.location !== this.props.location) {\n                this.checkAuthentication(nextProps);\n            }\n        }\n    }, {\n        key: 'checkAuthentication',\n        value: function checkAuthentication(params) {\n            var userCheck = params.userCheck,\n                authParams = params.authParams,\n                location = params.location;\n\n            userCheck(authParams, location && location.pathname);\n        }\n\n        // render the child even though the AUTH_CHECK isn't finished (optimistic rendering)\n\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                children = _props.children,\n                userCheck = _props.userCheck,\n                authParams = _props.authParams,\n                location = _props.location,\n                rest = (0, _objectWithoutProperties3.default)(_props, ['children', 'userCheck', 'authParams', 'location']);\n\n            return _react2.default.cloneElement(children, rest);\n        }\n    }]);\n    return Restricted;\n}(_react.Component);\n\nRestricted.propTypes = {\n    authParams: _propTypes2.default.object,\n    location: _propTypes2.default.object,\n    userCheck: _propTypes2.default.func\n};\nexports.default = (0, _reactRedux.connect)(null, {\n    userCheck: _authActions.userCheck\n})(Restricted);"]},"metadata":{},"sourceType":"script"}