{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _redux = require('redux');\n\nvar _reactRedux = require('react-redux');\n\nvar _createHashHistory = require('history/createHashHistory');\n\nvar _createHashHistory2 = _interopRequireDefault(_createHashHistory);\n\nvar _reactRouterRedux = require('react-router-redux');\n\nvar _reduxSaga = require('redux-saga');\n\nvar _reduxSaga2 = _interopRequireDefault(_reduxSaga);\n\nvar _effects = require('redux-saga/effects');\n\nvar _withContext = require('recompose/withContext');\n\nvar _withContext2 = _interopRequireDefault(_withContext);\n\nvar _reactRouterDom = require('react-router-dom');\n\nvar _authActions = require('./actions/authActions');\n\nvar _Login = require('./mui/auth/Login');\n\nvar _Login2 = _interopRequireDefault(_Login);\n\nvar _reducer = require('./reducer');\n\nvar _reducer2 = _interopRequireDefault(_reducer);\n\nvar _saga = require('./sideEffect/saga');\n\nvar _Menu = require('./mui/layout/Menu');\n\nvar _Menu2 = _interopRequireDefault(_Menu);\n\nvar _Logout = require('./mui/auth/Logout');\n\nvar _Logout2 = _interopRequireDefault(_Logout);\n\nvar _TranslationProvider = require('./i18n/TranslationProvider');\n\nvar _TranslationProvider2 = _interopRequireDefault(_TranslationProvider);\n\nvar _AdminRoutes = require('./AdminRoutes');\n\nvar _AdminRoutes2 = _interopRequireDefault(_AdminRoutes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Admin = function Admin(_ref) {\n  var appLayout = _ref.appLayout,\n      authClient = _ref.authClient,\n      children = _ref.children,\n      _ref$customReducers = _ref.customReducers,\n      customReducers = _ref$customReducers === undefined ? {} : _ref$customReducers,\n      _ref$customSagas = _ref.customSagas,\n      customSagas = _ref$customSagas === undefined ? [] : _ref$customSagas,\n      _ref$customRoutes = _ref.customRoutes,\n      customRoutes = _ref$customRoutes === undefined ? [] : _ref$customRoutes,\n      dashboard = _ref.dashboard,\n      history = _ref.history,\n      locale = _ref.locale,\n      _ref$messages = _ref.messages,\n      messages = _ref$messages === undefined ? {} : _ref$messages,\n      _ref$menu = _ref.menu,\n      menu = _ref$menu === undefined ? _Menu2.default : _ref$menu,\n      catchAll = _ref.catchAll,\n      restClient = _ref.restClient,\n      theme = _ref.theme,\n      _ref$title = _ref.title,\n      title = _ref$title === undefined ? 'Admin on REST' : _ref$title,\n      loginPage = _ref.loginPage,\n      logoutButton = _ref.logoutButton,\n      initialState = _ref.initialState;\n  var appReducer = (0, _reducer2.default)(customReducers, locale);\n\n  var resettableAppReducer = function resettableAppReducer(state, action) {\n    return appReducer(action.type !== _authActions.USER_LOGOUT ? state : undefined, action);\n  };\n\n  var saga = /*#__PURE__*/_regenerator2.default.mark(function rootSaga() {\n    return _regenerator2.default.wrap(function rootSaga$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return (0, _effects.all)([(0, _saga.crudSaga)(restClient, authClient)].concat((0, _toConsumableArray3.default)(customSagas)).map(_effects.fork));\n\n          case 2:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, rootSaga, this);\n  });\n\n  var sagaMiddleware = (0, _reduxSaga2.default)();\n  var routerHistory = history || (0, _createHashHistory2.default)();\n  var store = (0, _redux.createStore)(resettableAppReducer, initialState, (0, _redux.compose)((0, _redux.applyMiddleware)(sagaMiddleware, (0, _reactRouterRedux.routerMiddleware)(routerHistory)), typeof window !== 'undefined' && window.devToolsExtension ? window.devToolsExtension() : function (f) {\n    return f;\n  }));\n  sagaMiddleware.run(saga);\n  var logout = authClient ? (0, _react.createElement)(logoutButton || _Logout2.default) : null;\n  return _react2.default.createElement(_reactRedux.Provider, {\n    store: store\n  }, _react2.default.createElement(_TranslationProvider2.default, {\n    messages: messages\n  }, _react2.default.createElement(_reactRouterRedux.ConnectedRouter, {\n    history: routerHistory\n  }, _react2.default.createElement(_reactRouterDom.Switch, null, loginPage && _react2.default.createElement(_reactRouterDom.Route, {\n    exact: true,\n    path: '/login',\n    render: function render(_ref2) {\n      var location = _ref2.location;\n      return (0, _react.createElement)(loginPage, {\n        location: location,\n        title: title,\n        theme: theme\n      });\n    }\n  }), _react2.default.createElement(_reactRouterDom.Route, {\n    path: '/',\n    render: function render(routeProps) {\n      return _react2.default.createElement(_AdminRoutes2.default, (0, _extends3.default)({\n        appLayout: appLayout,\n        catchAll: catchAll,\n        customRoutes: customRoutes,\n        dashboard: dashboard,\n        logout: logout,\n        menu: menu,\n        theme: theme,\n        title: title\n      }, routeProps), children);\n    }\n  })))));\n};\n\nvar componentPropType = _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string]);\n\nAdmin.propTypes = {\n  appLayout: componentPropType,\n  authClient: _propTypes2.default.func,\n  children: _propTypes2.default.oneOfType([_propTypes2.default.node, _propTypes2.default.func]),\n  catchAll: componentPropType,\n  customSagas: _propTypes2.default.array,\n  customReducers: _propTypes2.default.object,\n  customRoutes: _propTypes2.default.array,\n  dashboard: componentPropType,\n  history: _propTypes2.default.object,\n  loginPage: componentPropType,\n  logoutButton: componentPropType,\n  menu: componentPropType,\n  restClient: _propTypes2.default.func,\n  theme: _propTypes2.default.object,\n  title: _propTypes2.default.node,\n  locale: _propTypes2.default.string,\n  messages: _propTypes2.default.object,\n  initialState: _propTypes2.default.object\n};\nAdmin.defaultProps = {\n  loginPage: _Login2.default\n};\nexports.default = (0, _withContext2.default)({\n  authClient: _propTypes2.default.func\n}, function (_ref3) {\n  var authClient = _ref3.authClient;\n  return {\n    authClient: authClient\n  };\n})(Admin);\nmodule.exports = exports['default'];","map":{"version":3,"sources":["C:/Users/m2bab/VM/rd2/frontend/node_modules/admin-on-rest/lib/Admin.js"],"names":["Object","defineProperty","exports","value","_extends2","require","_extends3","_interopRequireDefault","_regenerator","_regenerator2","_toConsumableArray2","_toConsumableArray3","_react","_react2","_propTypes","_propTypes2","_redux","_reactRedux","_createHashHistory","_createHashHistory2","_reactRouterRedux","_reduxSaga","_reduxSaga2","_effects","_withContext","_withContext2","_reactRouterDom","_authActions","_Login","_Login2","_reducer","_reducer2","_saga","_Menu","_Menu2","_Logout","_Logout2","_TranslationProvider","_TranslationProvider2","_AdminRoutes","_AdminRoutes2","obj","__esModule","default","Admin","_ref","appLayout","authClient","children","_ref$customReducers","customReducers","undefined","_ref$customSagas","customSagas","_ref$customRoutes","customRoutes","dashboard","history","locale","_ref$messages","messages","_ref$menu","menu","catchAll","restClient","theme","_ref$title","title","loginPage","logoutButton","initialState","appReducer","resettableAppReducer","state","action","type","USER_LOGOUT","saga","mark","rootSaga","wrap","rootSaga$","_context","prev","next","all","crudSaga","concat","map","fork","stop","sagaMiddleware","routerHistory","store","createStore","compose","applyMiddleware","routerMiddleware","window","devToolsExtension","f","run","logout","createElement","Provider","ConnectedRouter","Switch","Route","exact","path","render","_ref2","location","routeProps","componentPropType","oneOfType","func","string","propTypes","node","array","object","defaultProps","_ref3","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _redux = require('redux');\n\nvar _reactRedux = require('react-redux');\n\nvar _createHashHistory = require('history/createHashHistory');\n\nvar _createHashHistory2 = _interopRequireDefault(_createHashHistory);\n\nvar _reactRouterRedux = require('react-router-redux');\n\nvar _reduxSaga = require('redux-saga');\n\nvar _reduxSaga2 = _interopRequireDefault(_reduxSaga);\n\nvar _effects = require('redux-saga/effects');\n\nvar _withContext = require('recompose/withContext');\n\nvar _withContext2 = _interopRequireDefault(_withContext);\n\nvar _reactRouterDom = require('react-router-dom');\n\nvar _authActions = require('./actions/authActions');\n\nvar _Login = require('./mui/auth/Login');\n\nvar _Login2 = _interopRequireDefault(_Login);\n\nvar _reducer = require('./reducer');\n\nvar _reducer2 = _interopRequireDefault(_reducer);\n\nvar _saga = require('./sideEffect/saga');\n\nvar _Menu = require('./mui/layout/Menu');\n\nvar _Menu2 = _interopRequireDefault(_Menu);\n\nvar _Logout = require('./mui/auth/Logout');\n\nvar _Logout2 = _interopRequireDefault(_Logout);\n\nvar _TranslationProvider = require('./i18n/TranslationProvider');\n\nvar _TranslationProvider2 = _interopRequireDefault(_TranslationProvider);\n\nvar _AdminRoutes = require('./AdminRoutes');\n\nvar _AdminRoutes2 = _interopRequireDefault(_AdminRoutes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Admin = function Admin(_ref) {\n    var appLayout = _ref.appLayout,\n        authClient = _ref.authClient,\n        children = _ref.children,\n        _ref$customReducers = _ref.customReducers,\n        customReducers = _ref$customReducers === undefined ? {} : _ref$customReducers,\n        _ref$customSagas = _ref.customSagas,\n        customSagas = _ref$customSagas === undefined ? [] : _ref$customSagas,\n        _ref$customRoutes = _ref.customRoutes,\n        customRoutes = _ref$customRoutes === undefined ? [] : _ref$customRoutes,\n        dashboard = _ref.dashboard,\n        history = _ref.history,\n        locale = _ref.locale,\n        _ref$messages = _ref.messages,\n        messages = _ref$messages === undefined ? {} : _ref$messages,\n        _ref$menu = _ref.menu,\n        menu = _ref$menu === undefined ? _Menu2.default : _ref$menu,\n        catchAll = _ref.catchAll,\n        restClient = _ref.restClient,\n        theme = _ref.theme,\n        _ref$title = _ref.title,\n        title = _ref$title === undefined ? 'Admin on REST' : _ref$title,\n        loginPage = _ref.loginPage,\n        logoutButton = _ref.logoutButton,\n        initialState = _ref.initialState;\n\n    var appReducer = (0, _reducer2.default)(customReducers, locale);\n    var resettableAppReducer = function resettableAppReducer(state, action) {\n        return appReducer(action.type !== _authActions.USER_LOGOUT ? state : undefined, action);\n    };\n    var saga = /*#__PURE__*/_regenerator2.default.mark(function rootSaga() {\n        return _regenerator2.default.wrap(function rootSaga$(_context) {\n            while (1) {\n                switch (_context.prev = _context.next) {\n                    case 0:\n                        _context.next = 2;\n                        return (0, _effects.all)([(0, _saga.crudSaga)(restClient, authClient)].concat((0, _toConsumableArray3.default)(customSagas)).map(_effects.fork));\n\n                    case 2:\n                    case 'end':\n                        return _context.stop();\n                }\n            }\n        }, rootSaga, this);\n    });\n    var sagaMiddleware = (0, _reduxSaga2.default)();\n    var routerHistory = history || (0, _createHashHistory2.default)();\n    var store = (0, _redux.createStore)(resettableAppReducer, initialState, (0, _redux.compose)((0, _redux.applyMiddleware)(sagaMiddleware, (0, _reactRouterRedux.routerMiddleware)(routerHistory)), typeof window !== 'undefined' && window.devToolsExtension ? window.devToolsExtension() : function (f) {\n        return f;\n    }));\n    sagaMiddleware.run(saga);\n\n    var logout = authClient ? (0, _react.createElement)(logoutButton || _Logout2.default) : null;\n\n    return _react2.default.createElement(\n        _reactRedux.Provider,\n        { store: store },\n        _react2.default.createElement(\n            _TranslationProvider2.default,\n            { messages: messages },\n            _react2.default.createElement(\n                _reactRouterRedux.ConnectedRouter,\n                { history: routerHistory },\n                _react2.default.createElement(\n                    _reactRouterDom.Switch,\n                    null,\n                    loginPage && _react2.default.createElement(_reactRouterDom.Route, {\n                        exact: true,\n                        path: '/login',\n                        render: function render(_ref2) {\n                            var location = _ref2.location;\n                            return (0, _react.createElement)(loginPage, {\n                                location: location,\n                                title: title,\n                                theme: theme\n                            });\n                        }\n                    }),\n                    _react2.default.createElement(_reactRouterDom.Route, {\n                        path: '/',\n                        render: function render(routeProps) {\n                            return _react2.default.createElement(\n                                _AdminRoutes2.default,\n                                (0, _extends3.default)({\n                                    appLayout: appLayout,\n                                    catchAll: catchAll,\n                                    customRoutes: customRoutes,\n                                    dashboard: dashboard,\n                                    logout: logout,\n                                    menu: menu,\n                                    theme: theme,\n                                    title: title\n                                }, routeProps),\n                                children\n                            );\n                        }\n                    })\n                )\n            )\n        )\n    );\n};\n\nvar componentPropType = _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string]);\n\nAdmin.propTypes = {\n    appLayout: componentPropType,\n    authClient: _propTypes2.default.func,\n    children: _propTypes2.default.oneOfType([_propTypes2.default.node, _propTypes2.default.func]),\n    catchAll: componentPropType,\n    customSagas: _propTypes2.default.array,\n    customReducers: _propTypes2.default.object,\n    customRoutes: _propTypes2.default.array,\n    dashboard: componentPropType,\n    history: _propTypes2.default.object,\n    loginPage: componentPropType,\n    logoutButton: componentPropType,\n    menu: componentPropType,\n    restClient: _propTypes2.default.func,\n    theme: _propTypes2.default.object,\n    title: _propTypes2.default.node,\n    locale: _propTypes2.default.string,\n    messages: _propTypes2.default.object,\n    initialState: _propTypes2.default.object\n};\n\nAdmin.defaultProps = {\n    loginPage: _Login2.default\n};\n\nexports.default = (0, _withContext2.default)({\n    authClient: _propTypes2.default.func\n}, function (_ref3) {\n    var authClient = _ref3.authClient;\n    return { authClient: authClient };\n})(Admin);\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}