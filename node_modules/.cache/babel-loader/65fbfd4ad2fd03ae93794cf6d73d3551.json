{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _Card = require('material-ui/Card');\n\nvar _Toolbar = require('material-ui/Toolbar');\n\nvar _RaisedButton = require('material-ui/RaisedButton');\n\nvar _RaisedButton2 = _interopRequireDefault(_RaisedButton);\n\nvar _checkCircle = require('material-ui/svg-icons/action/check-circle');\n\nvar _checkCircle2 = _interopRequireDefault(_checkCircle);\n\nvar _errorOutline = require('material-ui/svg-icons/alert/error-outline');\n\nvar _errorOutline2 = _interopRequireDefault(_errorOutline);\n\nvar _compose = require('recompose/compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _inflection = require('inflection');\n\nvar _inflection2 = _interopRequireDefault(_inflection);\n\nvar _ViewTitle = require('../layout/ViewTitle');\n\nvar _ViewTitle2 = _interopRequireDefault(_ViewTitle);\n\nvar _Title = require('../layout/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _button = require('../button');\n\nvar _dataActions = require('../../actions/dataActions');\n\nvar _translate = require('../../i18n/translate');\n\nvar _translate2 = _interopRequireDefault(_translate);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar styles = {\n  actions: {\n    zIndex: 2,\n    display: 'inline-block',\n    float: 'right'\n  },\n  toolbar: {\n    clear: 'both'\n  },\n  button: {\n    margin: '10px 24px',\n    position: 'relative'\n  }\n};\n\nvar Delete = function (_Component) {\n  (0, _inherits3.default)(Delete, _Component);\n\n  function Delete(props) {\n    (0, _classCallCheck3.default)(this, Delete);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Delete.__proto__ || Object.getPrototypeOf(Delete)).call(this, props));\n\n    _this.handleSubmit = _this.handleSubmit.bind(_this);\n    _this.goBack = _this.goBack.bind(_this);\n    return _this;\n  }\n\n  (0, _createClass3.default)(Delete, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.props.crudGetOne(this.props.resource, this.props.id, this.getBasePath());\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.id !== nextProps.id) {\n        this.props.crudGetOne(nextProps.resource, nextProps.id, this.getBasePath());\n      }\n    }\n  }, {\n    key: 'getBasePath',\n    value: function getBasePath() {\n      var location = this.props.location;\n      return location.pathname.split('/').slice(0, -2).join('/');\n    }\n  }, {\n    key: 'handleSubmit',\n    value: function handleSubmit(event) {\n      event.preventDefault();\n      this.props.crudDelete(this.props.resource, this.props.id, this.props.data, this.getBasePath());\n    }\n  }, {\n    key: 'goBack',\n    value: function goBack() {\n      this.props.history.goBack();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          title = _props.title,\n          id = _props.id,\n          data = _props.data,\n          isLoading = _props.isLoading,\n          resource = _props.resource,\n          translate = _props.translate;\n      var basePath = this.getBasePath();\n      var resourceName = translate('resources.' + resource + '.name', {\n        smart_count: 1,\n        _: _inflection2.default.humanize(_inflection2.default.singularize(resource))\n      });\n      var defaultTitle = translate('aor.page.delete', {\n        name: '' + resourceName,\n        id: id,\n        data: data\n      });\n      var titleElement = data ? _react2.default.createElement(_Title2.default, {\n        title: title,\n        record: data,\n        defaultTitle: defaultTitle\n      }) : '';\n      return _react2.default.createElement('div', null, _react2.default.createElement(_Card.Card, {\n        style: {\n          opacity: isLoading ? 0.8 : 1\n        }\n      }, _react2.default.createElement(_Card.CardActions, {\n        style: styles.actions\n      }, _react2.default.createElement(_button.ListButton, {\n        basePath: basePath\n      })), _react2.default.createElement(_ViewTitle2.default, {\n        title: titleElement\n      }), _react2.default.createElement('form', {\n        onSubmit: this.handleSubmit\n      }, _react2.default.createElement(_Card.CardText, null, translate('aor.message.are_you_sure')), _react2.default.createElement(_Toolbar.Toolbar, {\n        style: styles.toolbar\n      }, _react2.default.createElement(_Toolbar.ToolbarGroup, null, _react2.default.createElement(_RaisedButton2.default, {\n        type: 'submit',\n        label: translate('aor.action.delete'),\n        icon: _react2.default.createElement(_checkCircle2.default, null),\n        primary: true,\n        style: styles.button\n      }), _react2.default.createElement(_RaisedButton2.default, {\n        label: translate('aor.action.cancel'),\n        icon: _react2.default.createElement(_errorOutline2.default, null),\n        onClick: this.goBack,\n        style: styles.button\n      }))))));\n    }\n  }]);\n  return Delete;\n}(_react.Component);\n\nDelete.propTypes = {\n  title: _propTypes2.default.any,\n  id: _propTypes2.default.string.isRequired,\n  resource: _propTypes2.default.string.isRequired,\n  location: _propTypes2.default.object.isRequired,\n  match: _propTypes2.default.object.isRequired,\n  history: _propTypes2.default.object.isRequired,\n  data: _propTypes2.default.object,\n  isLoading: _propTypes2.default.bool.isRequired,\n  crudGetOne: _propTypes2.default.func.isRequired,\n  crudDelete: _propTypes2.default.func.isRequired,\n  translate: _propTypes2.default.func.isRequired\n};\n\nfunction mapStateToProps(state, props) {\n  return {\n    id: decodeURIComponent(props.match.params.id),\n    data: state.admin.resources[props.resource].data[decodeURIComponent(props.match.params.id)],\n    isLoading: state.admin.loading > 0\n  };\n}\n\nvar enhance = (0, _compose2.default)((0, _reactRedux.connect)(mapStateToProps, {\n  crudGetOne: _dataActions.crudGetOne,\n  crudDelete: _dataActions.crudDelete\n}), _translate2.default);\nexports.default = enhance(Delete);\nmodule.exports = exports['default'];","map":{"version":3,"sources":["C:/Users/m2bab/VM/rd2/frontend/node_modules/admin-on-rest/lib/mui/delete/Delete.js"],"names":["Object","defineProperty","exports","value","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_reactRedux","_Card","_Toolbar","_RaisedButton","_RaisedButton2","_checkCircle","_checkCircle2","_errorOutline","_errorOutline2","_compose","_compose2","_inflection","_inflection2","_ViewTitle","_ViewTitle2","_Title","_Title2","_button","_dataActions","_translate","_translate2","obj","__esModule","default","styles","actions","zIndex","display","float","toolbar","clear","button","margin","position","Delete","_Component","props","_this","__proto__","getPrototypeOf","call","handleSubmit","bind","goBack","key","componentDidMount","crudGetOne","resource","id","getBasePath","componentWillReceiveProps","nextProps","location","pathname","split","slice","join","event","preventDefault","crudDelete","data","history","render","_props","title","isLoading","translate","basePath","resourceName","smart_count","_","humanize","singularize","defaultTitle","name","titleElement","createElement","record","Card","style","opacity","CardActions","ListButton","onSubmit","CardText","Toolbar","ToolbarGroup","type","label","icon","primary","onClick","Component","propTypes","any","string","isRequired","object","match","bool","func","mapStateToProps","state","decodeURIComponent","params","admin","resources","loading","enhance","connect","module"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,EAAAA,KAAK,EAAE;AADkC,CAA7C;;AAIA,IAAIC,gBAAgB,GAAGC,OAAO,CAAC,sCAAD,CAA9B;;AAEA,IAAIC,gBAAgB,GAAGC,sBAAsB,CAACH,gBAAD,CAA7C;;AAEA,IAAII,aAAa,GAAGH,OAAO,CAAC,mCAAD,CAA3B;;AAEA,IAAII,aAAa,GAAGF,sBAAsB,CAACC,aAAD,CAA1C;;AAEA,IAAIE,2BAA2B,GAAGL,OAAO,CAAC,iDAAD,CAAzC;;AAEA,IAAIM,2BAA2B,GAAGJ,sBAAsB,CAACG,2BAAD,CAAxD;;AAEA,IAAIE,UAAU,GAAGP,OAAO,CAAC,gCAAD,CAAxB;;AAEA,IAAIQ,UAAU,GAAGN,sBAAsB,CAACK,UAAD,CAAvC;;AAEA,IAAIE,MAAM,GAAGT,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIU,OAAO,GAAGR,sBAAsB,CAACO,MAAD,CAApC;;AAEA,IAAIE,UAAU,GAAGX,OAAO,CAAC,YAAD,CAAxB;;AAEA,IAAIY,WAAW,GAAGV,sBAAsB,CAACS,UAAD,CAAxC;;AAEA,IAAIE,WAAW,GAAGb,OAAO,CAAC,aAAD,CAAzB;;AAEA,IAAIc,KAAK,GAAGd,OAAO,CAAC,kBAAD,CAAnB;;AAEA,IAAIe,QAAQ,GAAGf,OAAO,CAAC,qBAAD,CAAtB;;AAEA,IAAIgB,aAAa,GAAGhB,OAAO,CAAC,0BAAD,CAA3B;;AAEA,IAAIiB,cAAc,GAAGf,sBAAsB,CAACc,aAAD,CAA3C;;AAEA,IAAIE,YAAY,GAAGlB,OAAO,CAAC,2CAAD,CAA1B;;AAEA,IAAImB,aAAa,GAAGjB,sBAAsB,CAACgB,YAAD,CAA1C;;AAEA,IAAIE,aAAa,GAAGpB,OAAO,CAAC,2CAAD,CAA3B;;AAEA,IAAIqB,cAAc,GAAGnB,sBAAsB,CAACkB,aAAD,CAA3C;;AAEA,IAAIE,QAAQ,GAAGtB,OAAO,CAAC,mBAAD,CAAtB;;AAEA,IAAIuB,SAAS,GAAGrB,sBAAsB,CAACoB,QAAD,CAAtC;;AAEA,IAAIE,WAAW,GAAGxB,OAAO,CAAC,YAAD,CAAzB;;AAEA,IAAIyB,YAAY,GAAGvB,sBAAsB,CAACsB,WAAD,CAAzC;;AAEA,IAAIE,UAAU,GAAG1B,OAAO,CAAC,qBAAD,CAAxB;;AAEA,IAAI2B,WAAW,GAAGzB,sBAAsB,CAACwB,UAAD,CAAxC;;AAEA,IAAIE,MAAM,GAAG5B,OAAO,CAAC,iBAAD,CAApB;;AAEA,IAAI6B,OAAO,GAAG3B,sBAAsB,CAAC0B,MAAD,CAApC;;AAEA,IAAIE,OAAO,GAAG9B,OAAO,CAAC,WAAD,CAArB;;AAEA,IAAI+B,YAAY,GAAG/B,OAAO,CAAC,2BAAD,CAA1B;;AAEA,IAAIgC,UAAU,GAAGhC,OAAO,CAAC,sBAAD,CAAxB;;AAEA,IAAIiC,WAAW,GAAG/B,sBAAsB,CAAC8B,UAAD,CAAxC;;AAEA,SAAS9B,sBAAT,CAAgCgC,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,IAAIG,MAAM,GAAG;AACTC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,MAAM,EAAE,CAAV;AAAaC,IAAAA,OAAO,EAAE,cAAtB;AAAsCC,IAAAA,KAAK,EAAE;AAA7C,GADA;AAETC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAFA;AAGTC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,MAAM,EAAE,WAAV;AAAuBC,IAAAA,QAAQ,EAAE;AAAjC;AAHC,CAAb;;AAMA,IAAIC,MAAM,GAAG,UAAUC,UAAV,EAAsB;AAC/B,GAAC,GAAGxC,UAAU,CAAC4B,OAAf,EAAwBW,MAAxB,EAAgCC,UAAhC;;AAEA,WAASD,MAAT,CAAgBE,KAAhB,EAAuB;AACnB,KAAC,GAAGhD,gBAAgB,CAACmC,OAArB,EAA8B,IAA9B,EAAoCW,MAApC;;AAEA,QAAIG,KAAK,GAAG,CAAC,GAAG5C,2BAA2B,CAAC8B,OAAhC,EAAyC,IAAzC,EAA+C,CAACW,MAAM,CAACI,SAAP,IAAoBxD,MAAM,CAACyD,cAAP,CAAsBL,MAAtB,CAArB,EAAoDM,IAApD,CAAyD,IAAzD,EAA+DJ,KAA/D,CAA/C,CAAZ;;AAEAC,IAAAA,KAAK,CAACI,YAAN,GAAqBJ,KAAK,CAACI,YAAN,CAAmBC,IAAnB,CAAwBL,KAAxB,CAArB;AACAA,IAAAA,KAAK,CAACM,MAAN,GAAeN,KAAK,CAACM,MAAN,CAAaD,IAAb,CAAkBL,KAAlB,CAAf;AACA,WAAOA,KAAP;AACH;;AAED,GAAC,GAAG9C,aAAa,CAACgC,OAAlB,EAA2BW,MAA3B,EAAmC,CAAC;AAChCU,IAAAA,GAAG,EAAE,mBAD2B;AAEhC3D,IAAAA,KAAK,EAAE,SAAS4D,iBAAT,GAA6B;AAChC,WAAKT,KAAL,CAAWU,UAAX,CAAsB,KAAKV,KAAL,CAAWW,QAAjC,EAA2C,KAAKX,KAAL,CAAWY,EAAtD,EAA0D,KAAKC,WAAL,EAA1D;AACH;AAJ+B,GAAD,EAKhC;AACCL,IAAAA,GAAG,EAAE,2BADN;AAEC3D,IAAAA,KAAK,EAAE,SAASiE,yBAAT,CAAmCC,SAAnC,EAA8C;AACjD,UAAI,KAAKf,KAAL,CAAWY,EAAX,KAAkBG,SAAS,CAACH,EAAhC,EAAoC;AAChC,aAAKZ,KAAL,CAAWU,UAAX,CAAsBK,SAAS,CAACJ,QAAhC,EAA0CI,SAAS,CAACH,EAApD,EAAwD,KAAKC,WAAL,EAAxD;AACH;AACJ;AANF,GALgC,EAYhC;AACCL,IAAAA,GAAG,EAAE,aADN;AAEC3D,IAAAA,KAAK,EAAE,SAASgE,WAAT,GAAuB;AAC1B,UAAIG,QAAQ,GAAG,KAAKhB,KAAL,CAAWgB,QAA1B;AAEA,aAAOA,QAAQ,CAACC,QAAT,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6BC,KAA7B,CAAmC,CAAnC,EAAsC,CAAC,CAAvC,EAA0CC,IAA1C,CAA+C,GAA/C,CAAP;AACH;AANF,GAZgC,EAmBhC;AACCZ,IAAAA,GAAG,EAAE,cADN;AAEC3D,IAAAA,KAAK,EAAE,SAASwD,YAAT,CAAsBgB,KAAtB,EAA6B;AAChCA,MAAAA,KAAK,CAACC,cAAN;AACA,WAAKtB,KAAL,CAAWuB,UAAX,CAAsB,KAAKvB,KAAL,CAAWW,QAAjC,EAA2C,KAAKX,KAAL,CAAWY,EAAtD,EAA0D,KAAKZ,KAAL,CAAWwB,IAArE,EAA2E,KAAKX,WAAL,EAA3E;AACH;AALF,GAnBgC,EAyBhC;AACCL,IAAAA,GAAG,EAAE,QADN;AAEC3D,IAAAA,KAAK,EAAE,SAAS0D,MAAT,GAAkB;AACrB,WAAKP,KAAL,CAAWyB,OAAX,CAAmBlB,MAAnB;AACH;AAJF,GAzBgC,EA8BhC;AACCC,IAAAA,GAAG,EAAE,QADN;AAEC3D,IAAAA,KAAK,EAAE,SAAS6E,MAAT,GAAkB;AACrB,UAAIC,MAAM,GAAG,KAAK3B,KAAlB;AAAA,UACI4B,KAAK,GAAGD,MAAM,CAACC,KADnB;AAAA,UAEIhB,EAAE,GAAGe,MAAM,CAACf,EAFhB;AAAA,UAGIY,IAAI,GAAGG,MAAM,CAACH,IAHlB;AAAA,UAIIK,SAAS,GAAGF,MAAM,CAACE,SAJvB;AAAA,UAKIlB,QAAQ,GAAGgB,MAAM,CAAChB,QALtB;AAAA,UAMImB,SAAS,GAAGH,MAAM,CAACG,SANvB;AAQA,UAAIC,QAAQ,GAAG,KAAKlB,WAAL,EAAf;AAEA,UAAImB,YAAY,GAAGF,SAAS,CAAC,eAAenB,QAAf,GAA0B,OAA3B,EAAoC;AAC5DsB,QAAAA,WAAW,EAAE,CAD+C;AAE5DC,QAAAA,CAAC,EAAE1D,YAAY,CAACW,OAAb,CAAqBgD,QAArB,CAA8B3D,YAAY,CAACW,OAAb,CAAqBiD,WAArB,CAAiCzB,QAAjC,CAA9B;AAFyD,OAApC,CAA5B;AAIA,UAAI0B,YAAY,GAAGP,SAAS,CAAC,iBAAD,EAAoB;AAC5CQ,QAAAA,IAAI,EAAE,KAAKN,YADiC;AAE5CpB,QAAAA,EAAE,EAAEA,EAFwC;AAG5CY,QAAAA,IAAI,EAAEA;AAHsC,OAApB,CAA5B;AAKA,UAAIe,YAAY,GAAGf,IAAI,GAAG/D,OAAO,CAAC0B,OAAR,CAAgBqD,aAAhB,CAA8B5D,OAAO,CAACO,OAAtC,EAA+C;AAAEyC,QAAAA,KAAK,EAAEA,KAAT;AAAgBa,QAAAA,MAAM,EAAEjB,IAAxB;AAA8Ba,QAAAA,YAAY,EAAEA;AAA5C,OAA/C,CAAH,GAAgH,EAAvI;AAEA,aAAO5E,OAAO,CAAC0B,OAAR,CAAgBqD,aAAhB,CACH,KADG,EAEH,IAFG,EAGH/E,OAAO,CAAC0B,OAAR,CAAgBqD,aAAhB,CACI3E,KAAK,CAAC6E,IADV,EAEI;AAAEC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,OAAO,EAAEf,SAAS,GAAG,GAAH,GAAS;AAA7B;AAAT,OAFJ,EAGIpE,OAAO,CAAC0B,OAAR,CAAgBqD,aAAhB,CACI3E,KAAK,CAACgF,WADV,EAEI;AAAEF,QAAAA,KAAK,EAAEvD,MAAM,CAACC;AAAhB,OAFJ,EAGI5B,OAAO,CAAC0B,OAAR,CAAgBqD,aAAhB,CAA8B3D,OAAO,CAACiE,UAAtC,EAAkD;AAAEf,QAAAA,QAAQ,EAAEA;AAAZ,OAAlD,CAHJ,CAHJ,EAQItE,OAAO,CAAC0B,OAAR,CAAgBqD,aAAhB,CAA8B9D,WAAW,CAACS,OAA1C,EAAmD;AAAEyC,QAAAA,KAAK,EAAEW;AAAT,OAAnD,CARJ,EASI9E,OAAO,CAAC0B,OAAR,CAAgBqD,aAAhB,CACI,MADJ,EAEI;AAAEO,QAAAA,QAAQ,EAAE,KAAK1C;AAAjB,OAFJ,EAGI5C,OAAO,CAAC0B,OAAR,CAAgBqD,aAAhB,CACI3E,KAAK,CAACmF,QADV,EAEI,IAFJ,EAGIlB,SAAS,CAAC,0BAAD,CAHb,CAHJ,EAQIrE,OAAO,CAAC0B,OAAR,CAAgBqD,aAAhB,CACI1E,QAAQ,CAACmF,OADb,EAEI;AAAEN,QAAAA,KAAK,EAAEvD,MAAM,CAACK;AAAhB,OAFJ,EAGIhC,OAAO,CAAC0B,OAAR,CAAgBqD,aAAhB,CACI1E,QAAQ,CAACoF,YADb,EAEI,IAFJ,EAGIzF,OAAO,CAAC0B,OAAR,CAAgBqD,aAAhB,CAA8BxE,cAAc,CAACmB,OAA7C,EAAsD;AAClDgE,QAAAA,IAAI,EAAE,QAD4C;AAElDC,QAAAA,KAAK,EAAEtB,SAAS,CAAC,mBAAD,CAFkC;AAGlDuB,QAAAA,IAAI,EAAE5F,OAAO,CAAC0B,OAAR,CAAgBqD,aAAhB,CAA8BtE,aAAa,CAACiB,OAA5C,EAAqD,IAArD,CAH4C;AAIlDmE,QAAAA,OAAO,EAAE,IAJyC;AAKlDX,QAAAA,KAAK,EAAEvD,MAAM,CAACO;AALoC,OAAtD,CAHJ,EAUIlC,OAAO,CAAC0B,OAAR,CAAgBqD,aAAhB,CAA8BxE,cAAc,CAACmB,OAA7C,EAAsD;AAClDiE,QAAAA,KAAK,EAAEtB,SAAS,CAAC,mBAAD,CADkC;AAElDuB,QAAAA,IAAI,EAAE5F,OAAO,CAAC0B,OAAR,CAAgBqD,aAAhB,CAA8BpE,cAAc,CAACe,OAA7C,EAAsD,IAAtD,CAF4C;AAGlDoE,QAAAA,OAAO,EAAE,KAAKhD,MAHoC;AAIlDoC,QAAAA,KAAK,EAAEvD,MAAM,CAACO;AAJoC,OAAtD,CAVJ,CAHJ,CARJ,CATJ,CAHG,CAAP;AA4CH;AApEF,GA9BgC,CAAnC;AAoGA,SAAOG,MAAP;AACH,CAlHY,CAkHXtC,MAAM,CAACgG,SAlHI,CAAb;;AAoHA1D,MAAM,CAAC2D,SAAP,GAAmB;AACf7B,EAAAA,KAAK,EAAEjE,WAAW,CAACwB,OAAZ,CAAoBuE,GADZ;AAEf9C,EAAAA,EAAE,EAAEjD,WAAW,CAACwB,OAAZ,CAAoBwE,MAApB,CAA2BC,UAFhB;AAGfjD,EAAAA,QAAQ,EAAEhD,WAAW,CAACwB,OAAZ,CAAoBwE,MAApB,CAA2BC,UAHtB;AAIf5C,EAAAA,QAAQ,EAAErD,WAAW,CAACwB,OAAZ,CAAoB0E,MAApB,CAA2BD,UAJtB;AAKfE,EAAAA,KAAK,EAAEnG,WAAW,CAACwB,OAAZ,CAAoB0E,MAApB,CAA2BD,UALnB;AAMfnC,EAAAA,OAAO,EAAE9D,WAAW,CAACwB,OAAZ,CAAoB0E,MAApB,CAA2BD,UANrB;AAOfpC,EAAAA,IAAI,EAAE7D,WAAW,CAACwB,OAAZ,CAAoB0E,MAPX;AAQfhC,EAAAA,SAAS,EAAElE,WAAW,CAACwB,OAAZ,CAAoB4E,IAApB,CAAyBH,UARrB;AASflD,EAAAA,UAAU,EAAE/C,WAAW,CAACwB,OAAZ,CAAoB6E,IAApB,CAAyBJ,UATtB;AAUfrC,EAAAA,UAAU,EAAE5D,WAAW,CAACwB,OAAZ,CAAoB6E,IAApB,CAAyBJ,UAVtB;AAWf9B,EAAAA,SAAS,EAAEnE,WAAW,CAACwB,OAAZ,CAAoB6E,IAApB,CAAyBJ;AAXrB,CAAnB;;AAcA,SAASK,eAAT,CAAyBC,KAAzB,EAAgClE,KAAhC,EAAuC;AACnC,SAAO;AACHY,IAAAA,EAAE,EAAEuD,kBAAkB,CAACnE,KAAK,CAAC8D,KAAN,CAAYM,MAAZ,CAAmBxD,EAApB,CADnB;AAEHY,IAAAA,IAAI,EAAE0C,KAAK,CAACG,KAAN,CAAYC,SAAZ,CAAsBtE,KAAK,CAACW,QAA5B,EAAsCa,IAAtC,CAA2C2C,kBAAkB,CAACnE,KAAK,CAAC8D,KAAN,CAAYM,MAAZ,CAAmBxD,EAApB,CAA7D,CAFH;AAGHiB,IAAAA,SAAS,EAAEqC,KAAK,CAACG,KAAN,CAAYE,OAAZ,GAAsB;AAH9B,GAAP;AAKH;;AAED,IAAIC,OAAO,GAAG,CAAC,GAAGlG,SAAS,CAACa,OAAd,EAAuB,CAAC,GAAGvB,WAAW,CAAC6G,OAAhB,EAAyBR,eAAzB,EAA0C;AAC3EvD,EAAAA,UAAU,EAAE5B,YAAY,CAAC4B,UADkD;AAE3Ea,EAAAA,UAAU,EAAEzC,YAAY,CAACyC;AAFkD,CAA1C,CAAvB,EAGVvC,WAAW,CAACG,OAHF,CAAd;AAKAvC,OAAO,CAACuC,OAAR,GAAkBqF,OAAO,CAAC1E,MAAD,CAAzB;AACA4E,MAAM,CAAC9H,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _Card = require('material-ui/Card');\n\nvar _Toolbar = require('material-ui/Toolbar');\n\nvar _RaisedButton = require('material-ui/RaisedButton');\n\nvar _RaisedButton2 = _interopRequireDefault(_RaisedButton);\n\nvar _checkCircle = require('material-ui/svg-icons/action/check-circle');\n\nvar _checkCircle2 = _interopRequireDefault(_checkCircle);\n\nvar _errorOutline = require('material-ui/svg-icons/alert/error-outline');\n\nvar _errorOutline2 = _interopRequireDefault(_errorOutline);\n\nvar _compose = require('recompose/compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _inflection = require('inflection');\n\nvar _inflection2 = _interopRequireDefault(_inflection);\n\nvar _ViewTitle = require('../layout/ViewTitle');\n\nvar _ViewTitle2 = _interopRequireDefault(_ViewTitle);\n\nvar _Title = require('../layout/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _button = require('../button');\n\nvar _dataActions = require('../../actions/dataActions');\n\nvar _translate = require('../../i18n/translate');\n\nvar _translate2 = _interopRequireDefault(_translate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar styles = {\n    actions: { zIndex: 2, display: 'inline-block', float: 'right' },\n    toolbar: { clear: 'both' },\n    button: { margin: '10px 24px', position: 'relative' }\n};\n\nvar Delete = function (_Component) {\n    (0, _inherits3.default)(Delete, _Component);\n\n    function Delete(props) {\n        (0, _classCallCheck3.default)(this, Delete);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (Delete.__proto__ || Object.getPrototypeOf(Delete)).call(this, props));\n\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        _this.goBack = _this.goBack.bind(_this);\n        return _this;\n    }\n\n    (0, _createClass3.default)(Delete, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.props.crudGetOne(this.props.resource, this.props.id, this.getBasePath());\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (this.props.id !== nextProps.id) {\n                this.props.crudGetOne(nextProps.resource, nextProps.id, this.getBasePath());\n            }\n        }\n    }, {\n        key: 'getBasePath',\n        value: function getBasePath() {\n            var location = this.props.location;\n\n            return location.pathname.split('/').slice(0, -2).join('/');\n        }\n    }, {\n        key: 'handleSubmit',\n        value: function handleSubmit(event) {\n            event.preventDefault();\n            this.props.crudDelete(this.props.resource, this.props.id, this.props.data, this.getBasePath());\n        }\n    }, {\n        key: 'goBack',\n        value: function goBack() {\n            this.props.history.goBack();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                title = _props.title,\n                id = _props.id,\n                data = _props.data,\n                isLoading = _props.isLoading,\n                resource = _props.resource,\n                translate = _props.translate;\n\n            var basePath = this.getBasePath();\n\n            var resourceName = translate('resources.' + resource + '.name', {\n                smart_count: 1,\n                _: _inflection2.default.humanize(_inflection2.default.singularize(resource))\n            });\n            var defaultTitle = translate('aor.page.delete', {\n                name: '' + resourceName,\n                id: id,\n                data: data\n            });\n            var titleElement = data ? _react2.default.createElement(_Title2.default, { title: title, record: data, defaultTitle: defaultTitle }) : '';\n\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(\n                    _Card.Card,\n                    { style: { opacity: isLoading ? 0.8 : 1 } },\n                    _react2.default.createElement(\n                        _Card.CardActions,\n                        { style: styles.actions },\n                        _react2.default.createElement(_button.ListButton, { basePath: basePath })\n                    ),\n                    _react2.default.createElement(_ViewTitle2.default, { title: titleElement }),\n                    _react2.default.createElement(\n                        'form',\n                        { onSubmit: this.handleSubmit },\n                        _react2.default.createElement(\n                            _Card.CardText,\n                            null,\n                            translate('aor.message.are_you_sure')\n                        ),\n                        _react2.default.createElement(\n                            _Toolbar.Toolbar,\n                            { style: styles.toolbar },\n                            _react2.default.createElement(\n                                _Toolbar.ToolbarGroup,\n                                null,\n                                _react2.default.createElement(_RaisedButton2.default, {\n                                    type: 'submit',\n                                    label: translate('aor.action.delete'),\n                                    icon: _react2.default.createElement(_checkCircle2.default, null),\n                                    primary: true,\n                                    style: styles.button\n                                }),\n                                _react2.default.createElement(_RaisedButton2.default, {\n                                    label: translate('aor.action.cancel'),\n                                    icon: _react2.default.createElement(_errorOutline2.default, null),\n                                    onClick: this.goBack,\n                                    style: styles.button\n                                })\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return Delete;\n}(_react.Component);\n\nDelete.propTypes = {\n    title: _propTypes2.default.any,\n    id: _propTypes2.default.string.isRequired,\n    resource: _propTypes2.default.string.isRequired,\n    location: _propTypes2.default.object.isRequired,\n    match: _propTypes2.default.object.isRequired,\n    history: _propTypes2.default.object.isRequired,\n    data: _propTypes2.default.object,\n    isLoading: _propTypes2.default.bool.isRequired,\n    crudGetOne: _propTypes2.default.func.isRequired,\n    crudDelete: _propTypes2.default.func.isRequired,\n    translate: _propTypes2.default.func.isRequired\n};\n\nfunction mapStateToProps(state, props) {\n    return {\n        id: decodeURIComponent(props.match.params.id),\n        data: state.admin.resources[props.resource].data[decodeURIComponent(props.match.params.id)],\n        isLoading: state.admin.loading > 0\n    };\n}\n\nvar enhance = (0, _compose2.default)((0, _reactRedux.connect)(mapStateToProps, {\n    crudGetOne: _dataActions.crudGetOne,\n    crudDelete: _dataActions.crudDelete\n}), _translate2.default);\n\nexports.default = enhance(Delete);\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}