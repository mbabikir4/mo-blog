{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n/**\n * Notice: Some code was adapted from Material-UI's text field.\n *         Copyright (c) 2014 Call-Em-All (https://github.com/callemall/material-ui)\n */\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _TextFieldUnderline = require('material-ui/TextField/TextFieldUnderline');\n\nvar _TextFieldUnderline2 = _interopRequireDefault(_TextFieldUnderline);\n\nvar _TextFieldHint = require('material-ui/TextField/TextFieldHint');\n\nvar _TextFieldHint2 = _interopRequireDefault(_TextFieldHint);\n\nvar _TextFieldLabel = require('material-ui/TextField/TextFieldLabel');\n\nvar _TextFieldLabel2 = _interopRequireDefault(_TextFieldLabel);\n\nvar _AutoComplete = require('material-ui/AutoComplete/AutoComplete');\n\nvar _AutoComplete2 = _interopRequireDefault(_AutoComplete);\n\nvar _transitions = require('material-ui/styles/transitions');\n\nvar _transitions2 = _interopRequireDefault(_transitions);\n\nvar _Chip = require('material-ui/Chip');\n\nvar _Chip2 = _interopRequireDefault(_Chip);\n\nvar _colors = require('material-ui/styles/colors');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar getStyles = function getStyles(props, context, state) {\n  var _context$muiTheme = context.muiTheme,\n      baseTheme = _context$muiTheme.baseTheme,\n      _context$muiTheme$tex = _context$muiTheme.textField,\n      floatingLabelColor = _context$muiTheme$tex.floatingLabelColor,\n      focusColor = _context$muiTheme$tex.focusColor,\n      textColor = _context$muiTheme$tex.textColor,\n      disabledTextColor = _context$muiTheme$tex.disabledTextColor,\n      backgroundColor = _context$muiTheme$tex.backgroundColor,\n      errorColor = _context$muiTheme$tex.errorColor;\n  var styles = {\n    root: {\n      fontSize: 16,\n      lineHeight: '24px',\n      width: props.fullWidth ? '100%' : 256,\n      display: 'inline-block',\n      position: 'relative',\n      backgroundColor: backgroundColor,\n      fontFamily: baseTheme.fontFamily,\n      transition: _transitions2.default.easeOut('200ms', 'height'),\n      cursor: 'text'\n    },\n    input: {\n      padding: 0,\n      marginTop: 0,\n      marginBottom: 24,\n      lineHeight: '32px',\n      height: 32,\n      position: 'relative',\n      display: 'inline-block',\n      border: 'none',\n      outline: 'none',\n      backgroundColor: 'rgba(0,0,0,0)',\n      color: props.disabled ? disabledTextColor : textColor,\n      cursor: props.disabled ? 'not-allowed' : 'initial',\n      font: 'inherit',\n      appearance: 'none',\n      // Remove border in Safari, doesn't seem to break anything in other browsers\n      WebkitTapHighlightColor: 'rgba(0,0,0,0)',\n      // Remove mobile color flashing (deprecated style).\n      float: 'left'\n    },\n    error: {\n      position: 'absolute',\n      top: '100%',\n      fontSize: 12,\n      lineHeight: '12px',\n      color: errorColor,\n      transition: _transitions2.default.easeOut()\n    },\n    floatingLabel: {\n      color: props.disabled ? disabledTextColor : floatingLabelColor,\n      pointerEvents: 'none',\n      top: 28\n    },\n    floatingLabelFocusStyle: {\n      transform: 'scale(0.75) translate(0, -36px)'\n    },\n    defaultChip: {\n      margin: '8px 8px 0 0',\n      float: 'left'\n    },\n    chipContainer: {\n      marginTop: props.floatingLabelText ? 12 : 0\n    }\n  };\n\n  if (state.isFocused) {\n    styles.floatingLabel.color = focusColor;\n  }\n\n  if (props.floatingLabelText) {\n    styles.input.boxSizing = 'border-box';\n  }\n\n  if (state.errorText) {\n    if (state.isFocused) {\n      styles.floatingLabel.color = styles.error.color;\n    }\n  }\n\n  return styles;\n};\n\nvar defaultChipRenderer = function defaultChipRenderer(_ref, key) {\n  var value = _ref.value,\n      text = _ref.text,\n      isFocused = _ref.isFocused,\n      isDisabled = _ref.isDisabled,\n      handleClick = _ref.handleClick,\n      handleRequestDelete = _ref.handleRequestDelete,\n      defaultStyle = _ref.defaultStyle;\n  return _react2.default.createElement(_Chip2.default, {\n    key: key,\n    style: _extends({}, defaultStyle, {\n      pointerEvents: isDisabled ? 'none' : undefined\n    }),\n    backgroundColor: isFocused ? _colors.blue300 : null,\n    onClick: handleClick,\n    onRequestDelete: handleRequestDelete\n  }, text);\n};\n\nvar ChipInput = function (_React$Component) {\n  _inherits(ChipInput, _React$Component);\n\n  function ChipInput(props) {\n    _classCallCheck(this, ChipInput);\n\n    var _this = _possibleConstructorReturn(this, (ChipInput.__proto__ || Object.getPrototypeOf(ChipInput)).call(this, props));\n\n    _this.state = {\n      isFocused: false,\n      errorText: undefined,\n      isClean: true,\n      chips: [],\n      focusedChip: null,\n      inputValue: ''\n    };\n\n    _this.handleInputBlur = function (event) {\n      if (_this.props.onBlur) {\n        _this.props.onBlur(event);\n      } // A momentary delay is required to support openOnFocus. We must give time for the autocomplete\n      // menu to close before checking the current status. Otherwise, tabbing off the input while the\n      // menu is open results in the input keeping its focus styles. Note that the ref might not be set\n      // yet, so this.autocomplete might be null.\n\n\n      setTimeout(function () {\n        if (_this.autoComplete && (!_this.autoComplete.state.open || _this.autoComplete.requestsList.length === 0)) {\n          if (_this.props.clearOnBlur) {\n            _this.clearInput();\n          }\n\n          _this.setState({\n            isFocused: false\n          });\n        }\n      }, 0);\n    };\n\n    _this.handleInputFocus = function (event) {\n      if (_this.props.disabled) {\n        return;\n      }\n\n      _this.setState({\n        isFocused: true\n      });\n\n      if (_this.props.onFocus) {\n        _this.props.onFocus(event);\n      }\n    };\n\n    _this.handleKeyDown = function (event) {\n      _this.setState({\n        keyPressed: false,\n        preventChipCreation: false\n      });\n\n      if (_this.props.newChipKeyCodes.indexOf(event.keyCode) >= 0) {\n        _this.handleAddChip(event.target.value);\n      } else if (event.keyCode === 8 || event.keyCode === 46) {\n        if (event.target.value === '') {\n          var chips = _this.props.value || _this.state.chips;\n\n          if (_this.state.focusedChip == null && event.keyCode === 8) {\n            _this.setState({\n              focusedChip: chips[chips.length - 1]\n            });\n          } else if (_this.state.focusedChip) {\n            var index = chips.findIndex(function (chip) {\n              return _this.props.dataSourceConfig ? _this.state.focusedChip[_this.props.dataSourceConfig.value] === chip[_this.props.dataSourceConfig.value] : _this.state.focusedChip === chip;\n            });\n            var value = _this.props.dataSourceConfig ? _this.state.focusedChip[_this.props.dataSourceConfig.value] : _this.state.focusedChip;\n\n            _this.handleDeleteChip(value, index);\n\n            if (event.keyCode === 8 && index > 0) {\n              _this.setState({\n                focusedChip: chips[index - 1]\n              });\n            } else if (event.keyCode === 46 && index < chips.length - 1) {\n              _this.setState({\n                focusedChip: chips[index + 1]\n              });\n            }\n          }\n        }\n      } else if (event.keyCode === 37) {\n        var _chips = _this.props.value || _this.state.chips;\n\n        if (_this.state.focusedChip == null && event.target.value === '' && _chips.length) {\n          return _this.setState({\n            focusedChip: _chips[_chips.length - 1]\n          });\n        }\n\n        var _index = _chips.findIndex(function (chip) {\n          return _this.props.dataSourceConfig && _this.state.focusedChip ? _this.state.focusedChip[_this.props.dataSourceConfig.value] === chip[_this.props.dataSourceConfig.value] : _this.state.focusedChip === chip;\n        });\n\n        if (_index > 0) {\n          _this.setState({\n            focusedChip: _chips[_index - 1]\n          });\n        }\n      } else if (event.keyCode === 39) {\n        var _chips2 = _this.props.value || _this.state.chips;\n\n        var _index2 = _chips2.findIndex(function (chip) {\n          return _this.props.dataSourceConfig && _this.state.focusedChip ? _this.state.focusedChip[_this.props.dataSourceConfig.value] === chip[_this.props.dataSourceConfig.value] : _this.state.focusedChip === chip;\n        });\n\n        if (_index2 >= 0 && _index2 < _chips2.length - 1) {\n          _this.setState({\n            focusedChip: _chips2[_index2 + 1]\n          });\n        } else {\n          _this.setState({\n            focusedChip: null\n          });\n        }\n      } else {\n        _this.setState({\n          focusedChip: null\n        });\n      }\n    };\n\n    _this.handleKeyUp = function (event) {\n      if (!_this.state.preventChipCreation && _this.props.newChipKeyCodes.indexOf(event.keyCode) > 0 && _this.state.keyPressed) {\n        _this.clearInput();\n      } else {\n        _this.setState({\n          inputValue: event.target.value\n        });\n      }\n    };\n\n    _this.handleKeyPress = function (event) {\n      _this.setState({\n        keyPressed: true\n      });\n    };\n\n    _this.handleUpdateInput = function (searchText, dataSource, params) {\n      _this.setState({\n        inputValue: searchText\n      });\n\n      if (_this.props.onUpdateInput) {\n        _this.props.onUpdateInput(searchText, dataSource, params);\n      }\n    };\n\n    _this.setAutoComplete = function (autoComplete) {\n      _this.autoComplete = autoComplete;\n    };\n\n    if (props.defaultValue) {\n      _this.state.chips = props.defaultValue;\n    }\n\n    return _this;\n  }\n\n  _createClass(ChipInput, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      var _props = this.props,\n          name = _props.name,\n          hintText = _props.hintText,\n          floatingLabelText = _props.floatingLabelText;\n      this.setState({\n        errorText: this.props.errorText\n      });\n      var uniqueId = name + '-' + hintText + '-' + floatingLabelText + '-' + Math.floor(Math.random() * 0xFFFF);\n      this.uniqueId = uniqueId.replace(/[^A-Za-z0-9-]/gi, '');\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var handleKeyDown = this.autoComplete.handleKeyDown;\n\n      this.autoComplete.handleKeyDown = function (event) {\n        var newChipKeyCodes = _this2.props.newChipKeyCodes;\n\n        if (newChipKeyCodes.indexOf(event.keyCode) >= 0 && event.target.value) {\n          event.preventDefault();\n\n          _this2.handleAddChip(event.target.value);\n\n          _this2.autoComplete.forceUpdate();\n        } else {\n          handleKeyDown(event);\n        }\n      };\n\n      var onAutocompleteItemClick = function onAutocompleteItemClick(event, child) {\n        var dataSource = _this2.autoComplete.props.dataSource;\n        var index = parseInt(child.key, 10);\n        var chosenRequest = dataSource[index];\n\n        _this2.handleAddChip(chosenRequest);\n\n        _this2.autoComplete.forceUpdate();\n\n        _this2.autoComplete.close();\n\n        setTimeout(function () {\n          return _this2.focus();\n        }, 1);\n      }; // Ensuring that ChipInput works with with Material-UI 0.19.1 and 0.20.0\n\n\n      if (this.autoComplete.handleItemClick) {\n        this.autoComplete.handleItemClick = onAutocompleteItemClick;\n      } else {\n        this.autoComplete.handleItemTouchTap = onAutocompleteItemClick;\n      } // force update autocomplete to ensure that it uses the new handlers\n\n\n      this.autoComplete.forceUpdate();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.disabled) {\n        this.setState({\n          focusedChip: null\n        });\n      }\n\n      if (nextProps.errorText !== this.props.errorText) {\n        this.setState({\n          errorText: nextProps.errorText\n        });\n      }\n    }\n  }, {\n    key: 'blur',\n    value: function blur() {\n      if (this.input) this.getInputNode().blur();\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      if (this.autoComplete) {\n        this.getInputNode().focus();\n\n        if (this.props.openOnFocus && !this.props.disabled) {\n          this.autoComplete.setState({\n            open: true,\n            anchorEl: this.getInputNode()\n          });\n          this.autoComplete.forceUpdate();\n        }\n      }\n\n      if (this.state.focusedChip) {\n        this.setState({\n          focusedChip: null\n        });\n      }\n    }\n  }, {\n    key: 'select',\n    value: function select() {\n      if (this.input) this.getInputNode().select();\n    }\n  }, {\n    key: 'getValue',\n    value: function getValue() {\n      return this.input ? this.getInputNode().value : undefined;\n    }\n  }, {\n    key: 'getInputNode',\n    value: function getInputNode() {\n      return this.autoComplete.refs.searchTextField.getInputNode();\n    }\n  }, {\n    key: 'handleAddChip',\n    value: function handleAddChip(chip) {\n      var _this3 = this;\n\n      if (this.props.onBeforeRequestAdd && !this.props.onBeforeRequestAdd(chip)) {\n        return this.setState({\n          preventChipCreation: true\n        });\n      }\n\n      this.autoComplete.setState({\n        searchText: ''\n      });\n      var chips = this.props.value || this.state.chips;\n\n      if (this.props.dataSourceConfig) {\n        if (typeof chip === 'string') {\n          var _chip;\n\n          if (chip.length === 0) {\n            return;\n          }\n\n          chip = (_chip = {}, _defineProperty(_chip, this.props.dataSourceConfig.text, chip), _defineProperty(_chip, this.props.dataSourceConfig.value, chip), _chip);\n        } else if ((typeof chip === 'undefined' ? 'undefined' : _typeof(chip)) === 'object') {\n          var _chip2;\n\n          if (chip[this.props.dataSourceConfig.text].length === 0 || chip[this.props.dataSourceConfig.value].length === 0) {\n            return;\n          }\n\n          chip = (_chip2 = {}, _defineProperty(_chip2, this.props.dataSourceConfig.text, chip[this.props.dataSourceConfig.text]), _defineProperty(_chip2, this.props.dataSourceConfig.value, chip[this.props.dataSourceConfig.value]), _chip2);\n        }\n\n        if (this.props.allowDuplicates || !chips.some(function (c) {\n          return c[_this3.props.dataSourceConfig.value] === chip[_this3.props.dataSourceConfig.value];\n        })) {\n          if (this.props.value) {\n            if (this.props.onRequestAdd) {\n              this.props.onRequestAdd(chip);\n            }\n          } else {\n            this.setState({\n              chips: [].concat(_toConsumableArray(this.state.chips), [chip])\n            });\n\n            if (this.props.onChange) {\n              this.props.onChange([].concat(_toConsumableArray(this.state.chips), [chip]));\n            }\n          }\n        }\n      } else {\n        if (chip.trim().length > 0) {\n          if (this.props.allowDuplicates || chips.indexOf(chip) === -1) {\n            if (this.props.value) {\n              if (this.props.onRequestAdd) {\n                this.props.onRequestAdd(chip);\n              }\n            } else {\n              this.setState({\n                chips: [].concat(_toConsumableArray(this.state.chips), [chip])\n              });\n\n              if (this.props.onChange) {\n                this.props.onChange([].concat(_toConsumableArray(this.state.chips), [chip]));\n              }\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: 'handleDeleteChip',\n    value: function handleDeleteChip(chip, i) {\n      if (this.props.value) {\n        if (this.props.onRequestDelete) {\n          this.props.onRequestDelete(chip, i);\n        }\n      } else {\n        if (this.props.dataSourceConfig) {\n          var chips = this.state.chips.slice();\n          var changed = chips.splice(i, 1); // remove the chip at index i\n\n          if (changed) {\n            this.setState({\n              chips: chips,\n              focusedChip: this.state.focusedChip && this.state.focusedChip[this.props.dataSourceConfig.value] === chip ? null : this.state.focusedChip\n            });\n\n            if (this.props.onChange) {\n              this.props.onChange(chips);\n            }\n          }\n        } else {\n          var _chips3 = this.state.chips.slice();\n\n          var _changed = _chips3.splice(i, 1); // remove the chip at index i\n\n\n          if (_changed) {\n            this.setState({\n              chips: _chips3,\n              focusedChip: this.state.focusedChip === chip ? null : this.state.focusedChip\n            });\n\n            if (this.props.onChange) {\n              this.props.onChange(_chips3);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: 'clearInput',\n    value: function clearInput() {\n      this.setState({\n        inputValue: ''\n      });\n    }\n    /**\n     * Sets a reference to the AutoComplete instance.\n     *\n     * Using a bound class method here to set `autoComplete` to avoid it being set\n     * to null by an inline ref callback.\n     *\n     * See [Issue #71](https://github.com/TeamWertarbyte/material-ui-chip-input/issues/71)\n     *\n     * @param {Object} autoComplete - The AutoComplete DOM element or null\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props2 = this.props,\n          children = _props2.children,\n          className = _props2.className,\n          dataSourceConfig = _props2.dataSourceConfig,\n          disabled = _props2.disabled,\n          errorStyle = _props2.errorStyle,\n          errorText = _props2.errorText,\n          fullWidth = _props2.fullWidth,\n          fullWidthInput = _props2.fullWidthInput,\n          hintText = _props2.hintText,\n          hintStyle = _props2.hintStyle,\n          id = _props2.id,\n          inputStyle = _props2.inputStyle,\n          clearOnBlur = _props2.clearOnBlur,\n          onBlur = _props2.onBlur,\n          onChange = _props2.onChange,\n          onFocus = _props2.onFocus,\n          style = _props2.style,\n          chipContainerStyle = _props2.chipContainerStyle,\n          underlineDisabledStyle = _props2.underlineDisabledStyle,\n          underlineFocusStyle = _props2.underlineFocusStyle,\n          underlineShow = _props2.underlineShow,\n          underlineStyle = _props2.underlineStyle,\n          _props2$defaultValue = _props2.defaultValue,\n          defaultValue = _props2$defaultValue === undefined ? [] : _props2$defaultValue,\n          filter = _props2.filter,\n          value = _props2.value,\n          dataSource = _props2.dataSource,\n          floatingLabelFixed = _props2.floatingLabelFixed,\n          floatingLabelFocusStyle = _props2.floatingLabelFocusStyle,\n          floatingLabelStyle = _props2.floatingLabelStyle,\n          floatingLabelText = _props2.floatingLabelText,\n          onBeforeRequestAdd = _props2.onBeforeRequestAdd,\n          onRequestAdd = _props2.onRequestAdd,\n          onRequestDelete = _props2.onRequestDelete,\n          _props2$chipRenderer = _props2.chipRenderer,\n          chipRenderer = _props2$chipRenderer === undefined ? defaultChipRenderer : _props2$chipRenderer,\n          newChipKeyCodes = _props2.newChipKeyCodes,\n          allowDuplicates = _props2.allowDuplicates,\n          other = _objectWithoutProperties(_props2, ['children', 'className', 'dataSourceConfig', 'disabled', 'errorStyle', 'errorText', 'fullWidth', 'fullWidthInput', 'hintText', 'hintStyle', 'id', 'inputStyle', 'clearOnBlur', 'onBlur', 'onChange', 'onFocus', 'style', 'chipContainerStyle', 'underlineDisabledStyle', 'underlineFocusStyle', 'underlineShow', 'underlineStyle', 'defaultValue', 'filter', 'value', 'dataSource', 'floatingLabelFixed', 'floatingLabelFocusStyle', 'floatingLabelStyle', 'floatingLabelText', 'onBeforeRequestAdd', 'onRequestAdd', 'onRequestDelete', 'chipRenderer', 'newChipKeyCodes', 'allowDuplicates']);\n\n      var prepareStyles = this.context.muiTheme.prepareStyles;\n      var styles = getStyles(this.props, this.context, this.state);\n      var inputId = id || this.uniqueId;\n      var inputProps = {\n        id: inputId,\n        ref: function ref(elem) {\n          _this4.input = elem;\n        },\n        disabled: !!this.props.disabled,\n        onBlur: this.handleInputBlur,\n        onFocus: this.handleInputFocus,\n        onKeyDown: this.handleKeyDown,\n        onKeyUp: this.handleKeyUp,\n        onKeyPress: this.handleKeyPress,\n        onUpdateInput: this.handleUpdateInput,\n        fullWidth: !!fullWidthInput\n      };\n\n      var inputStyleMerged = _extends(styles.input, inputStyle);\n\n      var hasInput = (this.props.value || this.state.chips).length > 0 || this.state.inputValue.length > 0;\n      var showHintText = hintText && !hasInput;\n      var shrinkFloatingLabel = floatingLabelText && (hasInput || this.state.isFocused || floatingLabelFixed);\n\n      var errorTextElement = this.state.errorText && _react2.default.createElement('div', {\n        style: prepareStyles(_extends(styles.error, errorStyle))\n      }, this.state.errorText);\n\n      var floatingLabelTextElement = floatingLabelText && _react2.default.createElement(_TextFieldLabel2.default, {\n        muiTheme: this.context.muiTheme,\n        style: _extends(styles.floatingLabel, this.props.floatingLabelStyle),\n        shrinkStyle: _extends(styles.floatingLabelFocusStyle, this.props.floatingLabelFocusStyle),\n        htmlFor: inputId,\n        shrink: shrinkFloatingLabel,\n        disabled: disabled\n      }, floatingLabelText);\n\n      var overrideRootStyles = {};\n\n      if (floatingLabelText) {\n        overrideRootStyles.marginTop = 14;\n      }\n\n      if (fullWidth) {\n        overrideRootStyles.width = '100%';\n      }\n\n      if (disabled) {\n        overrideRootStyles.cursor = 'not-allowed';\n      }\n\n      var chips = this.props.value || this.state.chips;\n      var autoCompleteData = dataSourceConfig ? (dataSource || []).filter(function (value) {\n        return !chips.some(function (c) {\n          return c[dataSourceConfig.value] === value[dataSourceConfig.value];\n        });\n      }) : (dataSource || []).filter(function (value) {\n        return chips.indexOf(value) < 0;\n      });\n      var actualFilter = other.openOnFocus ? function (search, key) {\n        return search === '' || filter(search, key);\n      } : filter;\n      return _react2.default.createElement('div', {\n        className: className,\n        style: prepareStyles(_extends(styles.root, style, overrideRootStyles)),\n        onClick: function onClick() {\n          return _this4.focus();\n        }\n      }, _react2.default.createElement('div', null, floatingLabelTextElement, _react2.default.createElement('div', {\n        style: _extends(styles.chipContainer, chipContainerStyle)\n      }, chips.map(function (tag, i) {\n        var value = dataSourceConfig ? tag[dataSourceConfig.value] : tag;\n        return chipRenderer({\n          value: value,\n          text: dataSourceConfig ? tag[dataSourceConfig.text] : tag,\n          chip: tag,\n          isDisabled: disabled,\n          isFocused: dataSourceConfig ? _this4.state.focusedChip && _this4.state.focusedChip[dataSourceConfig.value] === value : _this4.state.focusedChip === value,\n          handleClick: function handleClick() {\n            return _this4.setState({\n              focusedChip: tag\n            });\n          },\n          handleRequestDelete: function handleRequestDelete() {\n            return _this4.handleDeleteChip(value, i);\n          },\n          defaultStyle: styles.defaultChip\n        }, i);\n      }))), hintText ? _react2.default.createElement(_TextFieldHint2.default, {\n        muiTheme: this.context.muiTheme,\n        show: showHintText && !(floatingLabelText && !floatingLabelFixed && !this.state.isFocused),\n        style: _extends({\n          bottom: 20,\n          pointerEvents: 'none'\n        }, hintStyle),\n        text: hintText\n      }) : null, _react2.default.createElement(_AutoComplete2.default, _extends({}, other, inputProps, {\n        filter: actualFilter,\n        style: inputStyleMerged,\n        dataSource: autoCompleteData,\n        dataSourceConfig: dataSourceConfig,\n        searchText: this.state.inputValue,\n        underlineShow: false,\n        ref: this.setAutoComplete\n      })), underlineShow ? _react2.default.createElement(_TextFieldUnderline2.default, {\n        disabled: disabled,\n        disabledStyle: underlineDisabledStyle,\n        error: !!this.state.errorText,\n        errorStyle: errorStyle,\n        focus: this.state.isFocused,\n        focusStyle: underlineFocusStyle,\n        muiTheme: this.context.muiTheme,\n        style: underlineStyle\n      }) : null, errorTextElement);\n    }\n  }]);\n\n  return ChipInput;\n}(_react2.default.Component);\n\nChipInput.contextTypes = {\n  muiTheme: _propTypes2.default.object.isRequired\n};\nChipInput.propTypes = {\n  style: _propTypes2.default.object,\n  chipContainerStyle: _propTypes2.default.object,\n  floatingLabelText: _propTypes2.default.node,\n  hintText: _propTypes2.default.node,\n  id: _propTypes2.default.string,\n  dataSourceConfig: _propTypes2.default.shape({\n    text: _propTypes2.default.string.isRequired,\n    value: _propTypes2.default.string.isRequired\n  }),\n  disabled: _propTypes2.default.bool,\n  defaultValue: _propTypes2.default.array,\n  onChange: _propTypes2.default.func,\n  value: _propTypes2.default.array,\n  onBeforeRequestAdd: _propTypes2.default.func,\n  onRequestAdd: _propTypes2.default.func,\n  onRequestDelete: _propTypes2.default.func,\n  dataSource: _propTypes2.default.array,\n  onUpdateInput: _propTypes2.default.func,\n  openOnFocus: _propTypes2.default.bool,\n  chipRenderer: _propTypes2.default.func,\n  newChipKeyCodes: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  clearOnBlur: _propTypes2.default.bool,\n  allowDuplicates: _propTypes2.default.bool\n};\nChipInput.defaultProps = {\n  filter: _AutoComplete2.default.caseInsensitiveFilter,\n  newChipKeyCodes: [13],\n  clearOnBlur: true,\n  allowDuplicates: false,\n  underlineShow: true\n};\nexports.default = ChipInput;","map":{"version":3,"sources":["C:/Users/m2bab/VM/rd2/frontend/node_modules/admin-on-rest/node_modules/material-ui-chip-input/lib/ChipInput.js"],"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","_extends","assign","arguments","source","hasOwnProperty","call","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_TextFieldUnderline","_TextFieldUnderline2","_TextFieldHint","_TextFieldHint2","_TextFieldLabel","_TextFieldLabel2","_AutoComplete","_AutoComplete2","_transitions","_transitions2","_Chip","_Chip2","_colors","__esModule","default","_objectWithoutProperties","keys","indexOf","_toConsumableArray","arr","Array","isArray","arr2","from","_defineProperty","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","getStyles","context","state","_context$muiTheme","muiTheme","baseTheme","_context$muiTheme$tex","textField","floatingLabelColor","focusColor","textColor","disabledTextColor","backgroundColor","errorColor","styles","root","fontSize","lineHeight","width","fullWidth","display","position","fontFamily","transition","easeOut","cursor","input","padding","marginTop","marginBottom","height","border","outline","color","disabled","font","appearance","WebkitTapHighlightColor","float","error","top","floatingLabel","pointerEvents","floatingLabelFocusStyle","transform","defaultChip","margin","chipContainer","floatingLabelText","isFocused","boxSizing","errorText","defaultChipRenderer","_ref","text","isDisabled","handleClick","handleRequestDelete","defaultStyle","createElement","style","undefined","blue300","onClick","onRequestDelete","ChipInput","_React$Component","_this","getPrototypeOf","isClean","chips","focusedChip","inputValue","handleInputBlur","event","onBlur","setTimeout","autoComplete","open","requestsList","clearOnBlur","clearInput","setState","handleInputFocus","onFocus","handleKeyDown","keyPressed","preventChipCreation","newChipKeyCodes","keyCode","handleAddChip","index","findIndex","chip","dataSourceConfig","handleDeleteChip","_chips","_index","_chips2","_index2","handleKeyUp","handleKeyPress","handleUpdateInput","searchText","dataSource","params","onUpdateInput","setAutoComplete","defaultValue","componentWillMount","_props","name","hintText","uniqueId","Math","floor","random","replace","componentDidMount","_this2","preventDefault","forceUpdate","onAutocompleteItemClick","child","parseInt","chosenRequest","close","focus","handleItemClick","handleItemTouchTap","componentWillReceiveProps","nextProps","blur","getInputNode","openOnFocus","anchorEl","select","getValue","refs","searchTextField","_this3","onBeforeRequestAdd","_chip","_chip2","allowDuplicates","some","c","onRequestAdd","concat","onChange","trim","slice","changed","splice","_chips3","_changed","render","_this4","_props2","children","className","errorStyle","fullWidthInput","hintStyle","id","inputStyle","chipContainerStyle","underlineDisabledStyle","underlineFocusStyle","underlineShow","underlineStyle","_props2$defaultValue","filter","floatingLabelFixed","floatingLabelStyle","_props2$chipRenderer","chipRenderer","other","prepareStyles","inputId","inputProps","ref","elem","onKeyDown","onKeyUp","onKeyPress","inputStyleMerged","hasInput","showHintText","shrinkFloatingLabel","errorTextElement","floatingLabelTextElement","shrinkStyle","htmlFor","shrink","overrideRootStyles","autoCompleteData","actualFilter","search","map","tag","show","bottom","disabledStyle","focusStyle","Component","contextTypes","object","isRequired","propTypes","node","string","shape","bool","array","func","arrayOf","number","defaultProps","caseInsensitiveFilter"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * Notice: Some code was adapted from Material-UI's text field.\n                                                                                                                                                                                                                                                                   *         Copyright (c) 2014 Call-Em-All (https://github.com/callemall/material-ui)\n                                                                                                                                                                                                                                                                   */\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _TextFieldUnderline = require('material-ui/TextField/TextFieldUnderline');\n\nvar _TextFieldUnderline2 = _interopRequireDefault(_TextFieldUnderline);\n\nvar _TextFieldHint = require('material-ui/TextField/TextFieldHint');\n\nvar _TextFieldHint2 = _interopRequireDefault(_TextFieldHint);\n\nvar _TextFieldLabel = require('material-ui/TextField/TextFieldLabel');\n\nvar _TextFieldLabel2 = _interopRequireDefault(_TextFieldLabel);\n\nvar _AutoComplete = require('material-ui/AutoComplete/AutoComplete');\n\nvar _AutoComplete2 = _interopRequireDefault(_AutoComplete);\n\nvar _transitions = require('material-ui/styles/transitions');\n\nvar _transitions2 = _interopRequireDefault(_transitions);\n\nvar _Chip = require('material-ui/Chip');\n\nvar _Chip2 = _interopRequireDefault(_Chip);\n\nvar _colors = require('material-ui/styles/colors');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar getStyles = function getStyles(props, context, state) {\n  var _context$muiTheme = context.muiTheme,\n      baseTheme = _context$muiTheme.baseTheme,\n      _context$muiTheme$tex = _context$muiTheme.textField,\n      floatingLabelColor = _context$muiTheme$tex.floatingLabelColor,\n      focusColor = _context$muiTheme$tex.focusColor,\n      textColor = _context$muiTheme$tex.textColor,\n      disabledTextColor = _context$muiTheme$tex.disabledTextColor,\n      backgroundColor = _context$muiTheme$tex.backgroundColor,\n      errorColor = _context$muiTheme$tex.errorColor;\n\n\n  var styles = {\n    root: {\n      fontSize: 16,\n      lineHeight: '24px',\n      width: props.fullWidth ? '100%' : 256,\n      display: 'inline-block',\n      position: 'relative',\n      backgroundColor: backgroundColor,\n      fontFamily: baseTheme.fontFamily,\n      transition: _transitions2.default.easeOut('200ms', 'height'),\n      cursor: 'text'\n    },\n    input: {\n      padding: 0,\n      marginTop: 0,\n      marginBottom: 24,\n      lineHeight: '32px',\n      height: 32,\n      position: 'relative',\n      display: 'inline-block',\n      border: 'none',\n      outline: 'none',\n      backgroundColor: 'rgba(0,0,0,0)',\n      color: props.disabled ? disabledTextColor : textColor,\n      cursor: props.disabled ? 'not-allowed' : 'initial',\n      font: 'inherit',\n      appearance: 'none', // Remove border in Safari, doesn't seem to break anything in other browsers\n      WebkitTapHighlightColor: 'rgba(0,0,0,0)', // Remove mobile color flashing (deprecated style).\n      float: 'left'\n    },\n    error: {\n      position: 'absolute',\n      top: '100%',\n      fontSize: 12,\n      lineHeight: '12px',\n      color: errorColor,\n      transition: _transitions2.default.easeOut()\n    },\n    floatingLabel: {\n      color: props.disabled ? disabledTextColor : floatingLabelColor,\n      pointerEvents: 'none',\n      top: 28\n    },\n    floatingLabelFocusStyle: {\n      transform: 'scale(0.75) translate(0, -36px)'\n    },\n    defaultChip: {\n      margin: '8px 8px 0 0',\n      float: 'left'\n    },\n    chipContainer: {\n      marginTop: props.floatingLabelText ? 12 : 0\n    }\n  };\n\n  if (state.isFocused) {\n    styles.floatingLabel.color = focusColor;\n  }\n\n  if (props.floatingLabelText) {\n    styles.input.boxSizing = 'border-box';\n  }\n\n  if (state.errorText) {\n    if (state.isFocused) {\n      styles.floatingLabel.color = styles.error.color;\n    }\n  }\n\n  return styles;\n};\n\nvar defaultChipRenderer = function defaultChipRenderer(_ref, key) {\n  var value = _ref.value,\n      text = _ref.text,\n      isFocused = _ref.isFocused,\n      isDisabled = _ref.isDisabled,\n      handleClick = _ref.handleClick,\n      handleRequestDelete = _ref.handleRequestDelete,\n      defaultStyle = _ref.defaultStyle;\n  return _react2.default.createElement(\n    _Chip2.default,\n    {\n      key: key,\n      style: _extends({}, defaultStyle, { pointerEvents: isDisabled ? 'none' : undefined }),\n      backgroundColor: isFocused ? _colors.blue300 : null,\n      onClick: handleClick,\n      onRequestDelete: handleRequestDelete\n    },\n    text\n  );\n};\n\nvar ChipInput = function (_React$Component) {\n  _inherits(ChipInput, _React$Component);\n\n  function ChipInput(props) {\n    _classCallCheck(this, ChipInput);\n\n    var _this = _possibleConstructorReturn(this, (ChipInput.__proto__ || Object.getPrototypeOf(ChipInput)).call(this, props));\n\n    _this.state = {\n      isFocused: false,\n      errorText: undefined,\n      isClean: true,\n      chips: [],\n      focusedChip: null,\n      inputValue: ''\n    };\n\n    _this.handleInputBlur = function (event) {\n      if (_this.props.onBlur) {\n        _this.props.onBlur(event);\n      }\n\n      // A momentary delay is required to support openOnFocus. We must give time for the autocomplete\n      // menu to close before checking the current status. Otherwise, tabbing off the input while the\n      // menu is open results in the input keeping its focus styles. Note that the ref might not be set\n      // yet, so this.autocomplete might be null.\n      setTimeout(function () {\n        if (_this.autoComplete && (!_this.autoComplete.state.open || _this.autoComplete.requestsList.length === 0)) {\n          if (_this.props.clearOnBlur) {\n            _this.clearInput();\n          }\n          _this.setState({ isFocused: false });\n        }\n      }, 0);\n    };\n\n    _this.handleInputFocus = function (event) {\n      if (_this.props.disabled) {\n        return;\n      }\n      _this.setState({ isFocused: true });\n      if (_this.props.onFocus) {\n        _this.props.onFocus(event);\n      }\n    };\n\n    _this.handleKeyDown = function (event) {\n      _this.setState({ keyPressed: false, preventChipCreation: false });\n      if (_this.props.newChipKeyCodes.indexOf(event.keyCode) >= 0) {\n        _this.handleAddChip(event.target.value);\n      } else if (event.keyCode === 8 || event.keyCode === 46) {\n        if (event.target.value === '') {\n          var chips = _this.props.value || _this.state.chips;\n          if (_this.state.focusedChip == null && event.keyCode === 8) {\n            _this.setState({ focusedChip: chips[chips.length - 1] });\n          } else if (_this.state.focusedChip) {\n            var index = chips.findIndex(function (chip) {\n              return _this.props.dataSourceConfig ? _this.state.focusedChip[_this.props.dataSourceConfig.value] === chip[_this.props.dataSourceConfig.value] : _this.state.focusedChip === chip;\n            });\n            var value = _this.props.dataSourceConfig ? _this.state.focusedChip[_this.props.dataSourceConfig.value] : _this.state.focusedChip;\n            _this.handleDeleteChip(value, index);\n            if (event.keyCode === 8 && index > 0) {\n              _this.setState({ focusedChip: chips[index - 1] });\n            } else if (event.keyCode === 46 && index < chips.length - 1) {\n              _this.setState({ focusedChip: chips[index + 1] });\n            }\n          }\n        }\n      } else if (event.keyCode === 37) {\n        var _chips = _this.props.value || _this.state.chips;\n        if (_this.state.focusedChip == null && event.target.value === '' && _chips.length) {\n          return _this.setState({ focusedChip: _chips[_chips.length - 1] });\n        }\n        var _index = _chips.findIndex(function (chip) {\n          return _this.props.dataSourceConfig && _this.state.focusedChip ? _this.state.focusedChip[_this.props.dataSourceConfig.value] === chip[_this.props.dataSourceConfig.value] : _this.state.focusedChip === chip;\n        });\n        if (_index > 0) {\n          _this.setState({ focusedChip: _chips[_index - 1] });\n        }\n      } else if (event.keyCode === 39) {\n        var _chips2 = _this.props.value || _this.state.chips;\n        var _index2 = _chips2.findIndex(function (chip) {\n          return _this.props.dataSourceConfig && _this.state.focusedChip ? _this.state.focusedChip[_this.props.dataSourceConfig.value] === chip[_this.props.dataSourceConfig.value] : _this.state.focusedChip === chip;\n        });\n        if (_index2 >= 0 && _index2 < _chips2.length - 1) {\n          _this.setState({ focusedChip: _chips2[_index2 + 1] });\n        } else {\n          _this.setState({ focusedChip: null });\n        }\n      } else {\n        _this.setState({ focusedChip: null });\n      }\n    };\n\n    _this.handleKeyUp = function (event) {\n      if (!_this.state.preventChipCreation && _this.props.newChipKeyCodes.indexOf(event.keyCode) > 0 && _this.state.keyPressed) {\n        _this.clearInput();\n      } else {\n        _this.setState({ inputValue: event.target.value });\n      }\n    };\n\n    _this.handleKeyPress = function (event) {\n      _this.setState({ keyPressed: true });\n    };\n\n    _this.handleUpdateInput = function (searchText, dataSource, params) {\n      _this.setState({ inputValue: searchText });\n\n      if (_this.props.onUpdateInput) {\n        _this.props.onUpdateInput(searchText, dataSource, params);\n      }\n    };\n\n    _this.setAutoComplete = function (autoComplete) {\n      _this.autoComplete = autoComplete;\n    };\n\n    if (props.defaultValue) {\n      _this.state.chips = props.defaultValue;\n    }\n    return _this;\n  }\n\n  _createClass(ChipInput, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      var _props = this.props,\n          name = _props.name,\n          hintText = _props.hintText,\n          floatingLabelText = _props.floatingLabelText;\n\n\n      this.setState({\n        errorText: this.props.errorText\n      });\n\n      var uniqueId = name + '-' + hintText + '-' + floatingLabelText + '-' + Math.floor(Math.random() * 0xFFFF);\n      this.uniqueId = uniqueId.replace(/[^A-Za-z0-9-]/gi, '');\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var handleKeyDown = this.autoComplete.handleKeyDown;\n      this.autoComplete.handleKeyDown = function (event) {\n        var newChipKeyCodes = _this2.props.newChipKeyCodes;\n\n        if (newChipKeyCodes.indexOf(event.keyCode) >= 0 && event.target.value) {\n          event.preventDefault();\n          _this2.handleAddChip(event.target.value);\n          _this2.autoComplete.forceUpdate();\n        } else {\n          handleKeyDown(event);\n        }\n      };\n\n      var onAutocompleteItemClick = function onAutocompleteItemClick(event, child) {\n        var dataSource = _this2.autoComplete.props.dataSource;\n\n        var index = parseInt(child.key, 10);\n        var chosenRequest = dataSource[index];\n        _this2.handleAddChip(chosenRequest);\n        _this2.autoComplete.forceUpdate();\n        _this2.autoComplete.close();\n\n        setTimeout(function () {\n          return _this2.focus();\n        }, 1);\n      };\n\n      // Ensuring that ChipInput works with with Material-UI 0.19.1 and 0.20.0\n      if (this.autoComplete.handleItemClick) {\n        this.autoComplete.handleItemClick = onAutocompleteItemClick;\n      } else {\n        this.autoComplete.handleItemTouchTap = onAutocompleteItemClick;\n      }\n\n      // force update autocomplete to ensure that it uses the new handlers\n      this.autoComplete.forceUpdate();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.disabled) {\n        this.setState({ focusedChip: null });\n      }\n      if (nextProps.errorText !== this.props.errorText) {\n        this.setState({\n          errorText: nextProps.errorText\n        });\n      }\n    }\n  }, {\n    key: 'blur',\n    value: function blur() {\n      if (this.input) this.getInputNode().blur();\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      if (this.autoComplete) {\n        this.getInputNode().focus();\n        if (this.props.openOnFocus && !this.props.disabled) {\n          this.autoComplete.setState({\n            open: true,\n            anchorEl: this.getInputNode()\n          });\n\n          this.autoComplete.forceUpdate();\n        }\n      }\n      if (this.state.focusedChip) {\n        this.setState({ focusedChip: null });\n      }\n    }\n  }, {\n    key: 'select',\n    value: function select() {\n      if (this.input) this.getInputNode().select();\n    }\n  }, {\n    key: 'getValue',\n    value: function getValue() {\n      return this.input ? this.getInputNode().value : undefined;\n    }\n  }, {\n    key: 'getInputNode',\n    value: function getInputNode() {\n      return this.autoComplete.refs.searchTextField.getInputNode();\n    }\n  }, {\n    key: 'handleAddChip',\n    value: function handleAddChip(chip) {\n      var _this3 = this;\n\n      if (this.props.onBeforeRequestAdd && !this.props.onBeforeRequestAdd(chip)) {\n        return this.setState({ preventChipCreation: true });\n      }\n      this.autoComplete.setState({ searchText: '' });\n      var chips = this.props.value || this.state.chips;\n\n      if (this.props.dataSourceConfig) {\n        if (typeof chip === 'string') {\n          var _chip;\n\n          if (chip.length === 0) {\n            return;\n          }\n          chip = (_chip = {}, _defineProperty(_chip, this.props.dataSourceConfig.text, chip), _defineProperty(_chip, this.props.dataSourceConfig.value, chip), _chip);\n        } else if ((typeof chip === 'undefined' ? 'undefined' : _typeof(chip)) === 'object') {\n          var _chip2;\n\n          if (chip[this.props.dataSourceConfig.text].length === 0 || chip[this.props.dataSourceConfig.value].length === 0) {\n            return;\n          }\n          chip = (_chip2 = {}, _defineProperty(_chip2, this.props.dataSourceConfig.text, chip[this.props.dataSourceConfig.text]), _defineProperty(_chip2, this.props.dataSourceConfig.value, chip[this.props.dataSourceConfig.value]), _chip2);\n        }\n\n        if (this.props.allowDuplicates || !chips.some(function (c) {\n          return c[_this3.props.dataSourceConfig.value] === chip[_this3.props.dataSourceConfig.value];\n        })) {\n          if (this.props.value) {\n            if (this.props.onRequestAdd) {\n              this.props.onRequestAdd(chip);\n            }\n          } else {\n            this.setState({ chips: [].concat(_toConsumableArray(this.state.chips), [chip]) });\n            if (this.props.onChange) {\n              this.props.onChange([].concat(_toConsumableArray(this.state.chips), [chip]));\n            }\n          }\n        }\n      } else {\n        if (chip.trim().length > 0) {\n          if (this.props.allowDuplicates || chips.indexOf(chip) === -1) {\n            if (this.props.value) {\n              if (this.props.onRequestAdd) {\n                this.props.onRequestAdd(chip);\n              }\n            } else {\n              this.setState({ chips: [].concat(_toConsumableArray(this.state.chips), [chip]) });\n              if (this.props.onChange) {\n                this.props.onChange([].concat(_toConsumableArray(this.state.chips), [chip]));\n              }\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: 'handleDeleteChip',\n    value: function handleDeleteChip(chip, i) {\n      if (this.props.value) {\n        if (this.props.onRequestDelete) {\n          this.props.onRequestDelete(chip, i);\n        }\n      } else {\n        if (this.props.dataSourceConfig) {\n          var chips = this.state.chips.slice();\n          var changed = chips.splice(i, 1); // remove the chip at index i\n          if (changed) {\n            this.setState({\n              chips: chips,\n              focusedChip: this.state.focusedChip && this.state.focusedChip[this.props.dataSourceConfig.value] === chip ? null : this.state.focusedChip\n            });\n            if (this.props.onChange) {\n              this.props.onChange(chips);\n            }\n          }\n        } else {\n          var _chips3 = this.state.chips.slice();\n          var _changed = _chips3.splice(i, 1); // remove the chip at index i\n          if (_changed) {\n            this.setState({\n              chips: _chips3,\n              focusedChip: this.state.focusedChip === chip ? null : this.state.focusedChip\n            });\n            if (this.props.onChange) {\n              this.props.onChange(_chips3);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: 'clearInput',\n    value: function clearInput() {\n      this.setState({ inputValue: '' });\n    }\n\n    /**\n     * Sets a reference to the AutoComplete instance.\n     *\n     * Using a bound class method here to set `autoComplete` to avoid it being set\n     * to null by an inline ref callback.\n     *\n     * See [Issue #71](https://github.com/TeamWertarbyte/material-ui-chip-input/issues/71)\n     *\n     * @param {Object} autoComplete - The AutoComplete DOM element or null\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props2 = this.props,\n          children = _props2.children,\n          className = _props2.className,\n          dataSourceConfig = _props2.dataSourceConfig,\n          disabled = _props2.disabled,\n          errorStyle = _props2.errorStyle,\n          errorText = _props2.errorText,\n          fullWidth = _props2.fullWidth,\n          fullWidthInput = _props2.fullWidthInput,\n          hintText = _props2.hintText,\n          hintStyle = _props2.hintStyle,\n          id = _props2.id,\n          inputStyle = _props2.inputStyle,\n          clearOnBlur = _props2.clearOnBlur,\n          onBlur = _props2.onBlur,\n          onChange = _props2.onChange,\n          onFocus = _props2.onFocus,\n          style = _props2.style,\n          chipContainerStyle = _props2.chipContainerStyle,\n          underlineDisabledStyle = _props2.underlineDisabledStyle,\n          underlineFocusStyle = _props2.underlineFocusStyle,\n          underlineShow = _props2.underlineShow,\n          underlineStyle = _props2.underlineStyle,\n          _props2$defaultValue = _props2.defaultValue,\n          defaultValue = _props2$defaultValue === undefined ? [] : _props2$defaultValue,\n          filter = _props2.filter,\n          value = _props2.value,\n          dataSource = _props2.dataSource,\n          floatingLabelFixed = _props2.floatingLabelFixed,\n          floatingLabelFocusStyle = _props2.floatingLabelFocusStyle,\n          floatingLabelStyle = _props2.floatingLabelStyle,\n          floatingLabelText = _props2.floatingLabelText,\n          onBeforeRequestAdd = _props2.onBeforeRequestAdd,\n          onRequestAdd = _props2.onRequestAdd,\n          onRequestDelete = _props2.onRequestDelete,\n          _props2$chipRenderer = _props2.chipRenderer,\n          chipRenderer = _props2$chipRenderer === undefined ? defaultChipRenderer : _props2$chipRenderer,\n          newChipKeyCodes = _props2.newChipKeyCodes,\n          allowDuplicates = _props2.allowDuplicates,\n          other = _objectWithoutProperties(_props2, ['children', 'className', 'dataSourceConfig', 'disabled', 'errorStyle', 'errorText', 'fullWidth', 'fullWidthInput', 'hintText', 'hintStyle', 'id', 'inputStyle', 'clearOnBlur', 'onBlur', 'onChange', 'onFocus', 'style', 'chipContainerStyle', 'underlineDisabledStyle', 'underlineFocusStyle', 'underlineShow', 'underlineStyle', 'defaultValue', 'filter', 'value', 'dataSource', 'floatingLabelFixed', 'floatingLabelFocusStyle', 'floatingLabelStyle', 'floatingLabelText', 'onBeforeRequestAdd', 'onRequestAdd', 'onRequestDelete', 'chipRenderer', 'newChipKeyCodes', 'allowDuplicates']);\n\n      var prepareStyles = this.context.muiTheme.prepareStyles;\n\n      var styles = getStyles(this.props, this.context, this.state);\n      var inputId = id || this.uniqueId;\n\n      var inputProps = {\n        id: inputId,\n        ref: function ref(elem) {\n          _this4.input = elem;\n        },\n        disabled: !!this.props.disabled,\n        onBlur: this.handleInputBlur,\n        onFocus: this.handleInputFocus,\n        onKeyDown: this.handleKeyDown,\n        onKeyUp: this.handleKeyUp,\n        onKeyPress: this.handleKeyPress,\n        onUpdateInput: this.handleUpdateInput,\n        fullWidth: !!fullWidthInput\n      };\n\n      var inputStyleMerged = _extends(styles.input, inputStyle);\n\n      var hasInput = (this.props.value || this.state.chips).length > 0 || this.state.inputValue.length > 0;\n      var showHintText = hintText && !hasInput;\n      var shrinkFloatingLabel = floatingLabelText && (hasInput || this.state.isFocused || floatingLabelFixed);\n\n      var errorTextElement = this.state.errorText && _react2.default.createElement(\n        'div',\n        { style: prepareStyles(_extends(styles.error, errorStyle)) },\n        this.state.errorText\n      );\n\n      var floatingLabelTextElement = floatingLabelText && _react2.default.createElement(\n        _TextFieldLabel2.default,\n        {\n          muiTheme: this.context.muiTheme,\n          style: _extends(styles.floatingLabel, this.props.floatingLabelStyle),\n          shrinkStyle: _extends(styles.floatingLabelFocusStyle, this.props.floatingLabelFocusStyle),\n          htmlFor: inputId,\n          shrink: shrinkFloatingLabel,\n          disabled: disabled\n        },\n        floatingLabelText\n      );\n\n      var overrideRootStyles = {};\n      if (floatingLabelText) {\n        overrideRootStyles.marginTop = 14;\n      }\n      if (fullWidth) {\n        overrideRootStyles.width = '100%';\n      }\n      if (disabled) {\n        overrideRootStyles.cursor = 'not-allowed';\n      }\n\n      var chips = this.props.value || this.state.chips;\n      var autoCompleteData = dataSourceConfig ? (dataSource || []).filter(function (value) {\n        return !chips.some(function (c) {\n          return c[dataSourceConfig.value] === value[dataSourceConfig.value];\n        });\n      }) : (dataSource || []).filter(function (value) {\n        return chips.indexOf(value) < 0;\n      });\n\n      var actualFilter = other.openOnFocus ? function (search, key) {\n        return search === '' || filter(search, key);\n      } : filter;\n\n      return _react2.default.createElement(\n        'div',\n        {\n          className: className,\n          style: prepareStyles(_extends(styles.root, style, overrideRootStyles)),\n          onClick: function onClick() {\n            return _this4.focus();\n          }\n        },\n        _react2.default.createElement(\n          'div',\n          null,\n          floatingLabelTextElement,\n          _react2.default.createElement(\n            'div',\n            { style: _extends(styles.chipContainer, chipContainerStyle) },\n            chips.map(function (tag, i) {\n              var value = dataSourceConfig ? tag[dataSourceConfig.value] : tag;\n              return chipRenderer({\n                value: value,\n                text: dataSourceConfig ? tag[dataSourceConfig.text] : tag,\n                chip: tag,\n                isDisabled: disabled,\n                isFocused: dataSourceConfig ? _this4.state.focusedChip && _this4.state.focusedChip[dataSourceConfig.value] === value : _this4.state.focusedChip === value,\n                handleClick: function handleClick() {\n                  return _this4.setState({ focusedChip: tag });\n                },\n                handleRequestDelete: function handleRequestDelete() {\n                  return _this4.handleDeleteChip(value, i);\n                },\n                defaultStyle: styles.defaultChip\n              }, i);\n            })\n          )\n        ),\n        hintText ? _react2.default.createElement(_TextFieldHint2.default, {\n          muiTheme: this.context.muiTheme,\n          show: showHintText && !(floatingLabelText && !floatingLabelFixed && !this.state.isFocused),\n          style: _extends({ bottom: 20, pointerEvents: 'none' }, hintStyle),\n          text: hintText\n        }) : null,\n        _react2.default.createElement(_AutoComplete2.default, _extends({}, other, inputProps, {\n          filter: actualFilter,\n          style: inputStyleMerged,\n          dataSource: autoCompleteData,\n          dataSourceConfig: dataSourceConfig,\n          searchText: this.state.inputValue,\n          underlineShow: false,\n          ref: this.setAutoComplete\n        })),\n        underlineShow ? _react2.default.createElement(_TextFieldUnderline2.default, {\n          disabled: disabled,\n          disabledStyle: underlineDisabledStyle,\n          error: !!this.state.errorText,\n          errorStyle: errorStyle,\n          focus: this.state.isFocused,\n          focusStyle: underlineFocusStyle,\n          muiTheme: this.context.muiTheme,\n          style: underlineStyle\n        }) : null,\n        errorTextElement\n      );\n    }\n  }]);\n\n  return ChipInput;\n}(_react2.default.Component);\n\nChipInput.contextTypes = {\n  muiTheme: _propTypes2.default.object.isRequired\n};\n\n\nChipInput.propTypes = {\n  style: _propTypes2.default.object,\n  chipContainerStyle: _propTypes2.default.object,\n  floatingLabelText: _propTypes2.default.node,\n  hintText: _propTypes2.default.node,\n  id: _propTypes2.default.string,\n  dataSourceConfig: _propTypes2.default.shape({\n    text: _propTypes2.default.string.isRequired,\n    value: _propTypes2.default.string.isRequired\n  }),\n  disabled: _propTypes2.default.bool,\n  defaultValue: _propTypes2.default.array,\n  onChange: _propTypes2.default.func,\n  value: _propTypes2.default.array,\n  onBeforeRequestAdd: _propTypes2.default.func,\n  onRequestAdd: _propTypes2.default.func,\n  onRequestDelete: _propTypes2.default.func,\n  dataSource: _propTypes2.default.array,\n  onUpdateInput: _propTypes2.default.func,\n  openOnFocus: _propTypes2.default.bool,\n  chipRenderer: _propTypes2.default.func,\n  newChipKeyCodes: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  clearOnBlur: _propTypes2.default.bool,\n  allowDuplicates: _propTypes2.default.bool\n};\n\nChipInput.defaultProps = {\n  filter: _AutoComplete2.default.caseInsensitiveFilter,\n  newChipKeyCodes: [13],\n  clearOnBlur: true,\n  allowDuplicates: false,\n  underlineShow: true\n};\n\nexports.default = ChipInput;"]},"metadata":{},"sourceType":"script"}