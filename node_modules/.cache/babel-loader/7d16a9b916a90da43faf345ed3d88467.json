{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _effects = require('redux-saga/effects');\n\nvar _reactRouterRedux = require('react-router-redux');\n\nvar _notificationActions = require('../../actions/notificationActions');\n\nvar _authActions = require('../../actions/authActions');\n\nvar _fetchActions = require('../../actions/fetchActions');\n\nvar _auth = require('../../auth');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.default = function (authClient) {\n  var _marked = /*#__PURE__*/_regenerator2.default.mark(handleAuth);\n\n  if (!authClient) return function () {\n    return null;\n  };\n\n  function handleAuth(action) {\n    var type, payload, error, meta, authPayload, errorMessage;\n    return _regenerator2.default.wrap(function handleAuth$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            type = action.type, payload = action.payload, error = action.error, meta = action.meta;\n            _context.t0 = type;\n            _context.next = _context.t0 === _authActions.USER_LOGIN ? 4 : _context.t0 === _authActions.USER_CHECK ? 24 : _context.t0 === _authActions.USER_LOGOUT ? 36 : _context.t0 === _fetchActions.FETCH_ERROR ? 41 : 55;\n            break;\n\n          case 4:\n            _context.prev = 4;\n            _context.next = 7;\n            return (0, _effects.put)({\n              type: _authActions.USER_LOGIN_LOADING\n            });\n\n          case 7:\n            _context.next = 9;\n            return (0, _effects.call)(authClient, _auth.AUTH_LOGIN, payload);\n\n          case 9:\n            authPayload = _context.sent;\n            _context.next = 12;\n            return (0, _effects.put)({\n              type: _authActions.USER_LOGIN_SUCCESS,\n              payload: authPayload\n            });\n\n          case 12:\n            _context.next = 14;\n            return (0, _effects.put)((0, _reactRouterRedux.push)(meta.pathName || '/'));\n\n          case 14:\n            _context.next = 23;\n            break;\n\n          case 16:\n            _context.prev = 16;\n            _context.t1 = _context['catch'](4);\n            _context.next = 20;\n            return (0, _effects.put)({\n              type: _authActions.USER_LOGIN_FAILURE,\n              error: _context.t1,\n              meta: {\n                auth: true\n              }\n            });\n\n          case 20:\n            errorMessage = typeof _context.t1 === 'string' ? _context.t1 : typeof _context.t1 === 'undefined' || !_context.t1.message ? 'aor.auth.sign_in_error' : _context.t1.message;\n            _context.next = 23;\n            return (0, _effects.put)((0, _notificationActions.showNotification)(errorMessage, 'warning'));\n\n          case 23:\n            return _context.abrupt('break', 55);\n\n          case 24:\n            _context.prev = 24;\n            _context.next = 27;\n            return (0, _effects.call)(authClient, _auth.AUTH_CHECK, payload);\n\n          case 27:\n            _context.next = 35;\n            break;\n\n          case 29:\n            _context.prev = 29;\n            _context.t2 = _context['catch'](24);\n            _context.next = 33;\n            return (0, _effects.call)(authClient, _auth.AUTH_LOGOUT);\n\n          case 33:\n            _context.next = 35;\n            return (0, _effects.put)((0, _reactRouterRedux.replace)({\n              pathname: _context.t2 && _context.t2.redirectTo || '/login',\n              state: {\n                nextPathname: meta.pathName\n              }\n            }));\n\n          case 35:\n            return _context.abrupt('break', 55);\n\n          case 36:\n            _context.next = 38;\n            return (0, _effects.call)(authClient, _auth.AUTH_LOGOUT);\n\n          case 38:\n            _context.next = 40;\n            return (0, _effects.put)((0, _reactRouterRedux.push)('/login'));\n\n          case 40:\n            return _context.abrupt('break', 55);\n\n          case 41:\n            _context.prev = 41;\n            _context.next = 44;\n            return (0, _effects.call)(authClient, _auth.AUTH_ERROR, error);\n\n          case 44:\n            _context.next = 54;\n            break;\n\n          case 46:\n            _context.prev = 46;\n            _context.t3 = _context['catch'](41);\n            _context.next = 50;\n            return (0, _effects.call)(authClient, _auth.AUTH_LOGOUT);\n\n          case 50:\n            _context.next = 52;\n            return (0, _effects.put)((0, _reactRouterRedux.push)('/login'));\n\n          case 52:\n            _context.next = 54;\n            return (0, _effects.put)((0, _notificationActions.hideNotification)());\n\n          case 54:\n            return _context.abrupt('break', 55);\n\n          case 55:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _marked, this, [[4, 16], [24, 29], [41, 46]]);\n  }\n\n  return /*#__PURE__*/_regenerator2.default.mark(function watchAuthActions() {\n    return _regenerator2.default.wrap(function watchAuthActions$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return (0, _effects.all)([(0, _effects.takeEvery)(function (action) {\n              return action.meta && action.meta.auth;\n            }, handleAuth), (0, _effects.takeEvery)(_fetchActions.FETCH_ERROR, handleAuth)]);\n\n          case 2:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, watchAuthActions, this);\n  });\n};\n\nmodule.exports = exports['default'];","map":{"version":3,"sources":["C:/Users/m2bab/VM/rd2/frontend/node_modules/admin-on-rest/lib/sideEffect/saga/auth.js"],"names":["Object","defineProperty","exports","value","_regenerator","require","_regenerator2","_interopRequireDefault","_effects","_reactRouterRedux","_notificationActions","_authActions","_fetchActions","_auth","obj","__esModule","default","authClient","_marked","mark","handleAuth","action","type","payload","error","meta","authPayload","errorMessage","wrap","handleAuth$","_context","prev","next","t0","USER_LOGIN","USER_CHECK","USER_LOGOUT","FETCH_ERROR","put","USER_LOGIN_LOADING","call","AUTH_LOGIN","sent","USER_LOGIN_SUCCESS","push","pathName","t1","USER_LOGIN_FAILURE","auth","message","showNotification","abrupt","AUTH_CHECK","t2","AUTH_LOGOUT","replace","pathname","redirectTo","state","nextPathname","AUTH_ERROR","t3","hideNotification","stop","watchAuthActions","watchAuthActions$","_context2","all","takeEvery","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _effects = require('redux-saga/effects');\n\nvar _reactRouterRedux = require('react-router-redux');\n\nvar _notificationActions = require('../../actions/notificationActions');\n\nvar _authActions = require('../../actions/authActions');\n\nvar _fetchActions = require('../../actions/fetchActions');\n\nvar _auth = require('../../auth');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (authClient) {\n    var _marked = /*#__PURE__*/_regenerator2.default.mark(handleAuth);\n\n    if (!authClient) return function () {\n        return null;\n    };\n    function handleAuth(action) {\n        var type, payload, error, meta, authPayload, errorMessage;\n        return _regenerator2.default.wrap(function handleAuth$(_context) {\n            while (1) {\n                switch (_context.prev = _context.next) {\n                    case 0:\n                        type = action.type, payload = action.payload, error = action.error, meta = action.meta;\n                        _context.t0 = type;\n                        _context.next = _context.t0 === _authActions.USER_LOGIN ? 4 : _context.t0 === _authActions.USER_CHECK ? 24 : _context.t0 === _authActions.USER_LOGOUT ? 36 : _context.t0 === _fetchActions.FETCH_ERROR ? 41 : 55;\n                        break;\n\n                    case 4:\n                        _context.prev = 4;\n                        _context.next = 7;\n                        return (0, _effects.put)({ type: _authActions.USER_LOGIN_LOADING });\n\n                    case 7:\n                        _context.next = 9;\n                        return (0, _effects.call)(authClient, _auth.AUTH_LOGIN, payload);\n\n                    case 9:\n                        authPayload = _context.sent;\n                        _context.next = 12;\n                        return (0, _effects.put)({\n                            type: _authActions.USER_LOGIN_SUCCESS,\n                            payload: authPayload\n                        });\n\n                    case 12:\n                        _context.next = 14;\n                        return (0, _effects.put)((0, _reactRouterRedux.push)(meta.pathName || '/'));\n\n                    case 14:\n                        _context.next = 23;\n                        break;\n\n                    case 16:\n                        _context.prev = 16;\n                        _context.t1 = _context['catch'](4);\n                        _context.next = 20;\n                        return (0, _effects.put)({\n                            type: _authActions.USER_LOGIN_FAILURE,\n                            error: _context.t1,\n                            meta: { auth: true }\n                        });\n\n                    case 20:\n                        errorMessage = typeof _context.t1 === 'string' ? _context.t1 : typeof _context.t1 === 'undefined' || !_context.t1.message ? 'aor.auth.sign_in_error' : _context.t1.message;\n                        _context.next = 23;\n                        return (0, _effects.put)((0, _notificationActions.showNotification)(errorMessage, 'warning'));\n\n                    case 23:\n                        return _context.abrupt('break', 55);\n\n                    case 24:\n                        _context.prev = 24;\n                        _context.next = 27;\n                        return (0, _effects.call)(authClient, _auth.AUTH_CHECK, payload);\n\n                    case 27:\n                        _context.next = 35;\n                        break;\n\n                    case 29:\n                        _context.prev = 29;\n                        _context.t2 = _context['catch'](24);\n                        _context.next = 33;\n                        return (0, _effects.call)(authClient, _auth.AUTH_LOGOUT);\n\n                    case 33:\n                        _context.next = 35;\n                        return (0, _effects.put)((0, _reactRouterRedux.replace)({\n                            pathname: _context.t2 && _context.t2.redirectTo || '/login',\n                            state: { nextPathname: meta.pathName }\n                        }));\n\n                    case 35:\n                        return _context.abrupt('break', 55);\n\n                    case 36:\n                        _context.next = 38;\n                        return (0, _effects.call)(authClient, _auth.AUTH_LOGOUT);\n\n                    case 38:\n                        _context.next = 40;\n                        return (0, _effects.put)((0, _reactRouterRedux.push)('/login'));\n\n                    case 40:\n                        return _context.abrupt('break', 55);\n\n                    case 41:\n                        _context.prev = 41;\n                        _context.next = 44;\n                        return (0, _effects.call)(authClient, _auth.AUTH_ERROR, error);\n\n                    case 44:\n                        _context.next = 54;\n                        break;\n\n                    case 46:\n                        _context.prev = 46;\n                        _context.t3 = _context['catch'](41);\n                        _context.next = 50;\n                        return (0, _effects.call)(authClient, _auth.AUTH_LOGOUT);\n\n                    case 50:\n                        _context.next = 52;\n                        return (0, _effects.put)((0, _reactRouterRedux.push)('/login'));\n\n                    case 52:\n                        _context.next = 54;\n                        return (0, _effects.put)((0, _notificationActions.hideNotification)());\n\n                    case 54:\n                        return _context.abrupt('break', 55);\n\n                    case 55:\n                    case 'end':\n                        return _context.stop();\n                }\n            }\n        }, _marked, this, [[4, 16], [24, 29], [41, 46]]);\n    }\n    return (/*#__PURE__*/_regenerator2.default.mark(function watchAuthActions() {\n            return _regenerator2.default.wrap(function watchAuthActions$(_context2) {\n                while (1) {\n                    switch (_context2.prev = _context2.next) {\n                        case 0:\n                            _context2.next = 2;\n                            return (0, _effects.all)([(0, _effects.takeEvery)(function (action) {\n                                return action.meta && action.meta.auth;\n                            }, handleAuth), (0, _effects.takeEvery)(_fetchActions.FETCH_ERROR, handleAuth)]);\n\n                        case 2:\n                        case 'end':\n                            return _context2.stop();\n                    }\n                }\n            }, watchAuthActions, this);\n        })\n    );\n};\n\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}