{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _Card = require('material-ui/Card');\n\nvar _compose = require('recompose/compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _inflection = require('inflection');\n\nvar _inflection2 = _interopRequireDefault(_inflection);\n\nvar _ViewTitle = require('../layout/ViewTitle');\n\nvar _ViewTitle2 = _interopRequireDefault(_ViewTitle);\n\nvar _Title = require('../layout/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _dataActions = require('../../actions/dataActions');\n\nvar _CreateActions = require('./CreateActions');\n\nvar _CreateActions2 = _interopRequireDefault(_CreateActions);\n\nvar _translate = require('../../i18n/translate');\n\nvar _translate2 = _interopRequireDefault(_translate);\n\nvar _withPermissionsFilteredChildren = require('../../auth/withPermissionsFilteredChildren');\n\nvar _withPermissionsFilteredChildren2 = _interopRequireDefault(_withPermissionsFilteredChildren);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Create = function (_Component) {\n  (0, _inherits3.default)(Create, _Component);\n\n  function Create() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Create);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Create.__proto__ || Object.getPrototypeOf(Create)).call.apply(_ref, [this].concat(args))), _this), _this.save = function (record, redirect) {\n      _this.props.crudCreate(_this.props.resource, record, _this.getBasePath(), redirect);\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(Create, [{\n    key: 'getBasePath',\n    value: function getBasePath() {\n      var location = this.props.location;\n      return location.pathname.split('/').slice(0, -1).join('/');\n    }\n  }, {\n    key: 'defaultRedirectRoute',\n    value: function defaultRedirectRoute() {\n      var _props = this.props,\n          hasShow = _props.hasShow,\n          hasEdit = _props.hasEdit;\n      if (hasEdit) return 'edit';\n      if (hasShow) return 'show';\n      return 'list';\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          _props2$actions = _props2.actions,\n          actions = _props2$actions === undefined ? _react2.default.createElement(_CreateActions2.default, null) : _props2$actions,\n          children = _props2.children,\n          isLoading = _props2.isLoading,\n          resource = _props2.resource,\n          title = _props2.title,\n          translate = _props2.translate,\n          hasList = _props2.hasList;\n      if (!children) return null;\n      var basePath = this.getBasePath();\n      var resourceName = translate('resources.' + resource + '.name', {\n        smart_count: 1,\n        _: _inflection2.default.humanize(_inflection2.default.singularize(resource))\n      });\n      var defaultTitle = translate('aor.page.create', {\n        name: '' + resourceName\n      });\n\n      var titleElement = _react2.default.createElement(_Title2.default, {\n        title: title,\n        defaultTitle: defaultTitle\n      });\n\n      return _react2.default.createElement('div', {\n        className: 'create-page'\n      }, _react2.default.createElement(_Card.Card, {\n        style: {\n          opacity: isLoading ? 0.8 : 1\n        }\n      }, actions && _react2.default.cloneElement(actions, {\n        basePath: basePath,\n        resource: resource,\n        hasList: hasList\n      }), _react2.default.createElement(_ViewTitle2.default, {\n        title: titleElement\n      }), _react2.default.cloneElement(children, {\n        save: this.save,\n        resource: resource,\n        basePath: basePath,\n        record: {},\n        translate: translate,\n        redirect: typeof children.props.redirect === 'undefined' ? this.defaultRedirectRoute() : children.props.redirect\n      })));\n    }\n  }]);\n  return Create;\n}(_react.Component);\n\nCreate.propTypes = {\n  actions: _propTypes2.default.element,\n  children: _propTypes2.default.element,\n  crudCreate: _propTypes2.default.func.isRequired,\n  isLoading: _propTypes2.default.bool.isRequired,\n  location: _propTypes2.default.object.isRequired,\n  resource: _propTypes2.default.string.isRequired,\n  title: _propTypes2.default.any,\n  translate: _propTypes2.default.func.isRequired,\n  hasList: _propTypes2.default.bool\n};\nCreate.defaultProps = {\n  data: {}\n};\n\nfunction mapStateToProps(state) {\n  return {\n    isLoading: state.admin.loading > 0\n  };\n}\n\nvar enhance = (0, _compose2.default)((0, _reactRedux.connect)(mapStateToProps, {\n  crudCreate: _dataActions.crudCreate\n}), _translate2.default, _withPermissionsFilteredChildren2.default);\nexports.default = enhance(Create);\nmodule.exports = exports['default'];","map":{"version":3,"sources":["C:/Users/m2bab/VM/rd2/frontend/node_modules/admin-on-rest/lib/mui/detail/Create.js"],"names":["Object","defineProperty","exports","value","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_reactRedux","_Card","_compose","_compose2","_inflection","_inflection2","_ViewTitle","_ViewTitle2","_Title","_Title2","_dataActions","_CreateActions","_CreateActions2","_translate","_translate2","_withPermissionsFilteredChildren","_withPermissionsFilteredChildren2","obj","__esModule","default","Create","_Component","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","__proto__","getPrototypeOf","call","apply","concat","save","record","redirect","props","crudCreate","resource","getBasePath","key","location","pathname","split","slice","join","defaultRedirectRoute","_props","hasShow","hasEdit","render","_props2","_props2$actions","actions","undefined","createElement","children","isLoading","title","translate","hasList","basePath","resourceName","smart_count","_","humanize","singularize","defaultTitle","name","titleElement","className","Card","style","opacity","cloneElement","Component","propTypes","element","func","isRequired","bool","object","string","any","defaultProps","data","mapStateToProps","state","admin","loading","enhance","connect","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _Card = require('material-ui/Card');\n\nvar _compose = require('recompose/compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _inflection = require('inflection');\n\nvar _inflection2 = _interopRequireDefault(_inflection);\n\nvar _ViewTitle = require('../layout/ViewTitle');\n\nvar _ViewTitle2 = _interopRequireDefault(_ViewTitle);\n\nvar _Title = require('../layout/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _dataActions = require('../../actions/dataActions');\n\nvar _CreateActions = require('./CreateActions');\n\nvar _CreateActions2 = _interopRequireDefault(_CreateActions);\n\nvar _translate = require('../../i18n/translate');\n\nvar _translate2 = _interopRequireDefault(_translate);\n\nvar _withPermissionsFilteredChildren = require('../../auth/withPermissionsFilteredChildren');\n\nvar _withPermissionsFilteredChildren2 = _interopRequireDefault(_withPermissionsFilteredChildren);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Create = function (_Component) {\n    (0, _inherits3.default)(Create, _Component);\n\n    function Create() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        (0, _classCallCheck3.default)(this, Create);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Create.__proto__ || Object.getPrototypeOf(Create)).call.apply(_ref, [this].concat(args))), _this), _this.save = function (record, redirect) {\n            _this.props.crudCreate(_this.props.resource, record, _this.getBasePath(), redirect);\n        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n\n    (0, _createClass3.default)(Create, [{\n        key: 'getBasePath',\n        value: function getBasePath() {\n            var location = this.props.location;\n\n            return location.pathname.split('/').slice(0, -1).join('/');\n        }\n    }, {\n        key: 'defaultRedirectRoute',\n        value: function defaultRedirectRoute() {\n            var _props = this.props,\n                hasShow = _props.hasShow,\n                hasEdit = _props.hasEdit;\n\n            if (hasEdit) return 'edit';\n            if (hasShow) return 'show';\n            return 'list';\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props2 = this.props,\n                _props2$actions = _props2.actions,\n                actions = _props2$actions === undefined ? _react2.default.createElement(_CreateActions2.default, null) : _props2$actions,\n                children = _props2.children,\n                isLoading = _props2.isLoading,\n                resource = _props2.resource,\n                title = _props2.title,\n                translate = _props2.translate,\n                hasList = _props2.hasList;\n\n\n            if (!children) return null;\n            var basePath = this.getBasePath();\n\n            var resourceName = translate('resources.' + resource + '.name', {\n                smart_count: 1,\n                _: _inflection2.default.humanize(_inflection2.default.singularize(resource))\n            });\n            var defaultTitle = translate('aor.page.create', {\n                name: '' + resourceName\n            });\n            var titleElement = _react2.default.createElement(_Title2.default, { title: title, defaultTitle: defaultTitle });\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'create-page' },\n                _react2.default.createElement(\n                    _Card.Card,\n                    { style: { opacity: isLoading ? 0.8 : 1 } },\n                    actions && _react2.default.cloneElement(actions, {\n                        basePath: basePath,\n                        resource: resource,\n                        hasList: hasList\n                    }),\n                    _react2.default.createElement(_ViewTitle2.default, { title: titleElement }),\n                    _react2.default.cloneElement(children, {\n                        save: this.save,\n                        resource: resource,\n                        basePath: basePath,\n                        record: {},\n                        translate: translate,\n                        redirect: typeof children.props.redirect === 'undefined' ? this.defaultRedirectRoute() : children.props.redirect\n                    })\n                )\n            );\n        }\n    }]);\n    return Create;\n}(_react.Component);\n\nCreate.propTypes = {\n    actions: _propTypes2.default.element,\n    children: _propTypes2.default.element,\n    crudCreate: _propTypes2.default.func.isRequired,\n    isLoading: _propTypes2.default.bool.isRequired,\n    location: _propTypes2.default.object.isRequired,\n    resource: _propTypes2.default.string.isRequired,\n    title: _propTypes2.default.any,\n    translate: _propTypes2.default.func.isRequired,\n    hasList: _propTypes2.default.bool\n};\n\nCreate.defaultProps = {\n    data: {}\n};\n\nfunction mapStateToProps(state) {\n    return {\n        isLoading: state.admin.loading > 0\n    };\n}\n\nvar enhance = (0, _compose2.default)((0, _reactRedux.connect)(mapStateToProps, { crudCreate: _dataActions.crudCreate }), _translate2.default, _withPermissionsFilteredChildren2.default);\n\nexports.default = enhance(Create);\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}