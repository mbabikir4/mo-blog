{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Filter = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lodash = require('lodash.debounce');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.isequal');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nvar _FilterForm = require('./FilterForm');\n\nvar _FilterForm2 = _interopRequireDefault(_FilterForm);\n\nvar _FilterButton = require('./FilterButton');\n\nvar _FilterButton2 = _interopRequireDefault(_FilterButton);\n\nvar _removeEmpty = require('../../util/removeEmpty');\n\nvar _removeEmpty2 = _interopRequireDefault(_removeEmpty);\n\nvar _withPermissionsFilteredChildren = require('../../auth/withPermissionsFilteredChildren');\n\nvar _withPermissionsFilteredChildren2 = _interopRequireDefault(_withPermissionsFilteredChildren);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Filter = exports.Filter = function (_Component) {\n  (0, _inherits3.default)(Filter, _Component);\n\n  function Filter(props) {\n    (0, _classCallCheck3.default)(this, Filter);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Filter.__proto__ || Object.getPrototypeOf(Filter)).call(this, props));\n\n    _this.setFilters = (0, _lodash2.default)(function (filters) {\n      if (!(0, _lodash4.default)(filters, _this.filters)) {\n        // fix for redux-form bug with onChange and enableReinitialize\n        var filtersWithoutEmpty = (0, _removeEmpty2.default)(filters);\n\n        _this.props.setFilters(filtersWithoutEmpty);\n\n        _this.filters = filtersWithoutEmpty;\n      }\n    }, _this.props.debounce);\n    _this.filters = _this.props.filterValues;\n    return _this;\n  }\n\n  (0, _createClass3.default)(Filter, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      this.filters = nextProps.filterValues;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.props.setFilters) {\n        this.setFilters.cancel();\n      }\n    }\n  }, {\n    key: 'renderButton',\n    value: function renderButton() {\n      var _props = this.props,\n          resource = _props.resource,\n          children = _props.children,\n          showFilter = _props.showFilter,\n          displayedFilters = _props.displayedFilters,\n          filterValues = _props.filterValues;\n      return _react2.default.createElement(_FilterButton2.default, {\n        resource: resource,\n        filters: _react2.default.Children.toArray(children),\n        showFilter: showFilter,\n        displayedFilters: displayedFilters,\n        filterValues: filterValues\n      });\n    }\n  }, {\n    key: 'renderForm',\n    value: function renderForm() {\n      var _props2 = this.props,\n          resource = _props2.resource,\n          children = _props2.children,\n          hideFilter = _props2.hideFilter,\n          displayedFilters = _props2.displayedFilters,\n          filterValues = _props2.filterValues;\n      return _react2.default.createElement(_FilterForm2.default, {\n        resource: resource,\n        filters: _react2.default.Children.toArray(children),\n        hideFilter: hideFilter,\n        displayedFilters: displayedFilters,\n        initialValues: filterValues,\n        setFilters: this.setFilters\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.props.context === 'button' ? this.renderButton() : this.renderForm();\n    }\n  }]);\n  return Filter;\n}(_react.Component);\n\nFilter.propTypes = {\n  children: _propTypes2.default.node,\n  context: _propTypes2.default.oneOf(['form', 'button']),\n  debounce: _propTypes2.default.number.isRequired,\n  displayedFilters: _propTypes2.default.object,\n  filterValues: _propTypes2.default.object,\n  hideFilter: _propTypes2.default.func,\n  setFilters: _propTypes2.default.func,\n  showFilter: _propTypes2.default.func,\n  resource: _propTypes2.default.string.isRequired\n};\nFilter.defaultProps = {\n  debounce: 500\n};\nexports.default = (0, _withPermissionsFilteredChildren2.default)(Filter);","map":{"version":3,"sources":["C:/Users/m2bab/VM/rd2/frontend/node_modules/admin-on-rest/lib/mui/list/Filter.js"],"names":["Object","defineProperty","exports","value","Filter","undefined","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_lodash","_lodash2","_lodash3","_lodash4","_FilterForm","_FilterForm2","_FilterButton","_FilterButton2","_removeEmpty","_removeEmpty2","_withPermissionsFilteredChildren","_withPermissionsFilteredChildren2","obj","__esModule","default","_Component","props","_this","__proto__","getPrototypeOf","call","setFilters","filters","filtersWithoutEmpty","debounce","filterValues","key","componentWillReceiveProps","nextProps","componentWillUnmount","cancel","renderButton","_props","resource","children","showFilter","displayedFilters","createElement","Children","toArray","renderForm","_props2","hideFilter","initialValues","render","context","Component","propTypes","node","oneOf","number","isRequired","object","func","string","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Filter = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lodash = require('lodash.debounce');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.isequal');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nvar _FilterForm = require('./FilterForm');\n\nvar _FilterForm2 = _interopRequireDefault(_FilterForm);\n\nvar _FilterButton = require('./FilterButton');\n\nvar _FilterButton2 = _interopRequireDefault(_FilterButton);\n\nvar _removeEmpty = require('../../util/removeEmpty');\n\nvar _removeEmpty2 = _interopRequireDefault(_removeEmpty);\n\nvar _withPermissionsFilteredChildren = require('../../auth/withPermissionsFilteredChildren');\n\nvar _withPermissionsFilteredChildren2 = _interopRequireDefault(_withPermissionsFilteredChildren);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Filter = exports.Filter = function (_Component) {\n    (0, _inherits3.default)(Filter, _Component);\n\n    function Filter(props) {\n        (0, _classCallCheck3.default)(this, Filter);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (Filter.__proto__ || Object.getPrototypeOf(Filter)).call(this, props));\n\n        _this.setFilters = (0, _lodash2.default)(function (filters) {\n            if (!(0, _lodash4.default)(filters, _this.filters)) {\n                // fix for redux-form bug with onChange and enableReinitialize\n                var filtersWithoutEmpty = (0, _removeEmpty2.default)(filters);\n                _this.props.setFilters(filtersWithoutEmpty);\n                _this.filters = filtersWithoutEmpty;\n            }\n        }, _this.props.debounce);\n\n        _this.filters = _this.props.filterValues;\n        return _this;\n    }\n\n    (0, _createClass3.default)(Filter, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            this.filters = nextProps.filterValues;\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            if (this.props.setFilters) {\n                this.setFilters.cancel();\n            }\n        }\n    }, {\n        key: 'renderButton',\n        value: function renderButton() {\n            var _props = this.props,\n                resource = _props.resource,\n                children = _props.children,\n                showFilter = _props.showFilter,\n                displayedFilters = _props.displayedFilters,\n                filterValues = _props.filterValues;\n\n            return _react2.default.createElement(_FilterButton2.default, {\n                resource: resource,\n                filters: _react2.default.Children.toArray(children),\n                showFilter: showFilter,\n                displayedFilters: displayedFilters,\n                filterValues: filterValues\n            });\n        }\n    }, {\n        key: 'renderForm',\n        value: function renderForm() {\n            var _props2 = this.props,\n                resource = _props2.resource,\n                children = _props2.children,\n                hideFilter = _props2.hideFilter,\n                displayedFilters = _props2.displayedFilters,\n                filterValues = _props2.filterValues;\n\n            return _react2.default.createElement(_FilterForm2.default, {\n                resource: resource,\n                filters: _react2.default.Children.toArray(children),\n                hideFilter: hideFilter,\n                displayedFilters: displayedFilters,\n                initialValues: filterValues,\n                setFilters: this.setFilters\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return this.props.context === 'button' ? this.renderButton() : this.renderForm();\n        }\n    }]);\n    return Filter;\n}(_react.Component);\n\nFilter.propTypes = {\n    children: _propTypes2.default.node,\n    context: _propTypes2.default.oneOf(['form', 'button']),\n    debounce: _propTypes2.default.number.isRequired,\n    displayedFilters: _propTypes2.default.object,\n    filterValues: _propTypes2.default.object,\n    hideFilter: _propTypes2.default.func,\n    setFilters: _propTypes2.default.func,\n    showFilter: _propTypes2.default.func,\n    resource: _propTypes2.default.string.isRequired\n};\n\nFilter.defaultProps = {\n    debounce: 500\n};\n\nexports.default = (0, _withPermissionsFilteredChildren2.default)(Filter);"]},"metadata":{},"sourceType":"script"}