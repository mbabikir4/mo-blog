{"ast":null,"code":"import React from 'react';\nimport { get, post } from 'axios';\nimport { getToken } from './token';\nexport const fetchUser = async () => {\n  const res = await get('http://localhost:8000/api/rest-auth/user/', {\n    headers: {\n      Authorization: getToken()\n    }\n  });\n  const data = res.data;\n  return data;\n};\nexport const fetchAll = async form => {\n  const tokenRes = await post('http://localhost:8000/api/rest-auth/login/', form);\n  const {\n    token\n  } = await tokenRes.data;\n  const userRes = await get('http://localhost:8000/api/rest-auth/user/', {\n    headers: {\n      Authorization: `Token ${token}`\n    }\n  });\n  const user = await userRes.data;\n  return {\n    token: `Token ${token}`,\n    user\n  };\n};","map":{"version":3,"sources":["C:/Users/m2bab/VM/rd2/frontend/src/functions/api.jsx"],"names":["React","get","post","getToken","fetchUser","res","headers","Authorization","data","fetchAll","form","tokenRes","token","userRes","user"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,GAAR,EAAYC,IAAZ,QAAuB,OAAvB;AACA,SAASC,QAAT,QAAyB,SAAzB;AAEA,OAAO,MAAMC,SAAS,GAAG,YAAY;AACjC,QAAMC,GAAG,GAAG,MAAMJ,GAAG,CAAC,2CAAD,EAA8C;AAC/DK,IAAAA,OAAO,EAAE;AACLC,MAAAA,aAAa,EAAEJ,QAAQ;AADlB;AADsD,GAA9C,CAArB;AAKA,QAAMK,IAAI,GAAGH,GAAG,CAACG,IAAjB;AAEA,SAAOA,IAAP;AACH,CATM;AAWP,OAAO,MAAMC,QAAQ,GAAG,MAAOC,IAAP,IAAgB;AACpC,QAAMC,QAAQ,GAAG,MAAMT,IAAI,CAAC,4CAAD,EAA+CQ,IAA/C,CAA3B;AACA,QAAM;AAACE,IAAAA;AAAD,MAAU,MAAMD,QAAQ,CAACH,IAA/B;AACA,QAAMK,OAAO,GAAG,MAAMZ,GAAG,CAAC,2CAAD,EAA8C;AACnEK,IAAAA,OAAO,EAAE;AACLC,MAAAA,aAAa,EAAG,SAAQK,KAAM;AADzB;AAD0D,GAA9C,CAAzB;AAKA,QAAME,IAAI,GAAG,MAAMD,OAAO,CAACL,IAA3B;AACA,SAAO;AACHI,IAAAA,KAAK,EAAG,SAAQA,KAAM,EADnB;AAEHE,IAAAA;AAFG,GAAP;AAMH,CAfM","sourcesContent":["import React from 'react';\r\nimport {get,post} from 'axios';\r\nimport { getToken } from './token';\r\n\r\nexport const fetchUser = async () => {\r\n    const res = await get('http://localhost:8000/api/rest-auth/user/', {\r\n        headers: {\r\n            Authorization: getToken(),\r\n        }\r\n    });\r\n    const data = res.data;\r\n\r\n    return data\r\n}\r\n\r\nexport const fetchAll = async (form) => {\r\n    const tokenRes = await post('http://localhost:8000/api/rest-auth/login/', form);\r\n    const {token} = await tokenRes.data;\r\n    const userRes = await get('http://localhost:8000/api/rest-auth/user/', {\r\n        headers: {\r\n            Authorization: `Token ${token}`,\r\n        }\r\n    });\r\n    const user = await userRes.data;\r\n    return {\r\n        token: `Token ${token}`,\r\n        user,\r\n        \r\n\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}