{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Pagination = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _pure = require('recompose/pure');\n\nvar _pure2 = _interopRequireDefault(_pure);\n\nvar _FlatButton = require('material-ui/FlatButton');\n\nvar _FlatButton2 = _interopRequireDefault(_FlatButton);\n\nvar _IconButton = require('material-ui/IconButton');\n\nvar _IconButton2 = _interopRequireDefault(_IconButton);\n\nvar _chevronLeft = require('material-ui/svg-icons/navigation/chevron-left');\n\nvar _chevronLeft2 = _interopRequireDefault(_chevronLeft);\n\nvar _chevronRight = require('material-ui/svg-icons/navigation/chevron-right');\n\nvar _chevronRight2 = _interopRequireDefault(_chevronRight);\n\nvar _Toolbar = require('material-ui/Toolbar');\n\nvar _withWidth = require('material-ui/utils/withWidth');\n\nvar _withWidth2 = _interopRequireDefault(_withWidth);\n\nvar _muiThemeable = require('material-ui/styles/muiThemeable');\n\nvar _muiThemeable2 = _interopRequireDefault(_muiThemeable);\n\nvar _compose = require('recompose/compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _translate = require('../../i18n/translate');\n\nvar _translate2 = _interopRequireDefault(_translate);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar styles = {\n  button: {\n    margin: '10px 0'\n  },\n  pageInfo: {\n    padding: '1.2em'\n  },\n  mobileToolbar: {\n    margin: 'auto'\n  }\n};\n\nvar Pagination = exports.Pagination = function (_Component) {\n  (0, _inherits3.default)(Pagination, _Component);\n\n  function Pagination() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Pagination);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Pagination.__proto__ || Object.getPrototypeOf(Pagination)).call.apply(_ref, [this].concat(args))), _this), _this.prevPage = function (event) {\n      event.stopPropagation();\n\n      if (_this.props.page === 1) {\n        throw new Error(_this.props.translate('aor.navigation.page_out_from_begin'));\n      }\n\n      _this.props.setPage(_this.props.page - 1);\n    }, _this.nextPage = function (event) {\n      event.stopPropagation();\n\n      if (_this.props.page > _this.getNbPages()) {\n        throw new Error(_this.props.translate('aor.navigation.page_out_from_end'));\n      }\n\n      _this.props.setPage(_this.props.page + 1);\n    }, _this.gotoPage = function (event) {\n      event.stopPropagation();\n      var page = event.currentTarget.dataset.page;\n\n      if (page < 1 || page > _this.getNbPages()) {\n        throw new Error(_this.props.translate('aor.navigation.page_out_of_boundaries', {\n          page: page\n        }));\n      }\n\n      _this.props.setPage(page);\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(Pagination, [{\n    key: 'range',\n    value: function range() {\n      var input = [];\n      var _props = this.props,\n          page = _props.page,\n          perPage = _props.perPage,\n          total = _props.total;\n      if (isNaN(page)) return input;\n      var nbPages = Math.ceil(total / perPage) || 1; // display page links around the current page\n\n      if (page > 2) {\n        input.push('1');\n      }\n\n      if (page === 4) {\n        input.push('2');\n      }\n\n      if (page > 4) {\n        input.push('.');\n      }\n\n      if (page > 1) {\n        input.push(page - 1);\n      }\n\n      input.push(page);\n\n      if (page < nbPages) {\n        input.push(page + 1);\n      }\n\n      if (page === nbPages - 3) {\n        input.push(nbPages - 1);\n      }\n\n      if (page < nbPages - 3) {\n        input.push('.');\n      }\n\n      if (page < nbPages - 1) {\n        input.push(nbPages);\n      }\n\n      return input;\n    }\n  }, {\n    key: 'getNbPages',\n    value: function getNbPages() {\n      return Math.ceil(this.props.total / this.props.perPage) || 1;\n    }\n  }, {\n    key: 'renderPageNums',\n    value: function renderPageNums() {\n      var _this2 = this;\n\n      return this.range().map(function (pageNum, index) {\n        return pageNum === '.' ? _react2.default.createElement('span', {\n          key: 'hyphen_' + index,\n          style: {\n            padding: '1.2em'\n          }\n        }, '\\u2026') : _react2.default.createElement(_FlatButton2.default, {\n          className: 'page-number',\n          key: pageNum,\n          label: pageNum,\n          'data-page': pageNum,\n          onClick: _this2.gotoPage,\n          primary: pageNum !== _this2.props.page,\n          style: styles.button\n        });\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          muiTheme = _props2.muiTheme,\n          page = _props2.page,\n          perPage = _props2.perPage,\n          total = _props2.total,\n          translate = _props2.translate,\n          width = _props2.width;\n      if (total === 0) return null;\n      var offsetEnd = Math.min(page * perPage, total);\n      var offsetBegin = Math.min((page - 1) * perPage + 1, offsetEnd);\n      var nbPages = this.getNbPages();\n      return width === 1 ? _react2.default.createElement(_Toolbar.Toolbar, null, _react2.default.createElement(_Toolbar.ToolbarGroup, {\n        style: styles.mobileToolbar\n      }, page > 1 && _react2.default.createElement(_IconButton2.default, {\n        onClick: this.prevPage\n      }, _react2.default.createElement(_chevronLeft2.default, {\n        color: muiTheme.palette.primary1Color\n      })), _react2.default.createElement('span', {\n        style: styles.pageInfo\n      }, translate('aor.navigation.page_range_info', {\n        offsetBegin: offsetBegin,\n        offsetEnd: offsetEnd,\n        total: total\n      })), page !== nbPages && _react2.default.createElement(_IconButton2.default, {\n        onClick: this.nextPage\n      }, _react2.default.createElement(_chevronRight2.default, {\n        color: muiTheme.palette.primary1Color\n      })))) : _react2.default.createElement(_Toolbar.Toolbar, null, _react2.default.createElement(_Toolbar.ToolbarGroup, {\n        firstChild: true\n      }, _react2.default.createElement('span', {\n        className: 'displayed-records',\n        style: styles.pageInfo\n      }, translate('aor.navigation.page_range_info', {\n        offsetBegin: offsetBegin,\n        offsetEnd: offsetEnd,\n        total: total\n      }))), nbPages > 1 && _react2.default.createElement(_Toolbar.ToolbarGroup, null, page > 1 && _react2.default.createElement(_FlatButton2.default, {\n        className: 'previous-page',\n        primary: true,\n        key: 'prev',\n        label: translate('aor.navigation.prev'),\n        icon: _react2.default.createElement(_chevronLeft2.default, null),\n        onClick: this.prevPage,\n        style: styles.button\n      }), this.renderPageNums(), page !== nbPages && _react2.default.createElement(_FlatButton2.default, {\n        className: 'next-page',\n        primary: true,\n        key: 'next',\n        label: translate('aor.navigation.next'),\n        icon: _react2.default.createElement(_chevronRight2.default, null),\n        labelPosition: 'before',\n        onClick: this.nextPage,\n        style: styles.button\n      })));\n    }\n  }]);\n  return Pagination;\n}(_react.Component);\n\nPagination.propTypes = {\n  muiTheme: _propTypes2.default.object.isRequired,\n  page: _propTypes2.default.number,\n  perPage: _propTypes2.default.number,\n  setPage: _propTypes2.default.func,\n  translate: _propTypes2.default.func.isRequired,\n  total: _propTypes2.default.number,\n  width: _propTypes2.default.number\n};\nvar enhance = (0, _compose2.default)(_pure2.default, _translate2.default, (0, _withWidth2.default)(), (0, _muiThemeable2.default)());\nexports.default = enhance(Pagination);","map":{"version":3,"sources":["C:/Users/m2bab/VM/rd2/frontend/node_modules/admin-on-rest/lib/mui/list/Pagination.js"],"names":["Object","defineProperty","exports","value","Pagination","undefined","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_pure","_pure2","_FlatButton","_FlatButton2","_IconButton","_IconButton2","_chevronLeft","_chevronLeft2","_chevronRight","_chevronRight2","_Toolbar","_withWidth","_withWidth2","_muiThemeable","_muiThemeable2","_compose","_compose2","_translate","_translate2","obj","__esModule","default","styles","button","margin","pageInfo","padding","mobileToolbar","_Component","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","__proto__","getPrototypeOf","call","apply","concat","prevPage","event","stopPropagation","props","page","Error","translate","setPage","nextPage","getNbPages","gotoPage","currentTarget","dataset","key","range","input","_props","perPage","total","isNaN","nbPages","Math","ceil","push","renderPageNums","_this2","map","pageNum","index","createElement","style","className","label","onClick","primary","render","_props2","muiTheme","width","offsetEnd","min","offsetBegin","Toolbar","ToolbarGroup","color","palette","primary1Color","firstChild","icon","labelPosition","Component","propTypes","object","isRequired","number","func","enhance"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Pagination = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _pure = require('recompose/pure');\n\nvar _pure2 = _interopRequireDefault(_pure);\n\nvar _FlatButton = require('material-ui/FlatButton');\n\nvar _FlatButton2 = _interopRequireDefault(_FlatButton);\n\nvar _IconButton = require('material-ui/IconButton');\n\nvar _IconButton2 = _interopRequireDefault(_IconButton);\n\nvar _chevronLeft = require('material-ui/svg-icons/navigation/chevron-left');\n\nvar _chevronLeft2 = _interopRequireDefault(_chevronLeft);\n\nvar _chevronRight = require('material-ui/svg-icons/navigation/chevron-right');\n\nvar _chevronRight2 = _interopRequireDefault(_chevronRight);\n\nvar _Toolbar = require('material-ui/Toolbar');\n\nvar _withWidth = require('material-ui/utils/withWidth');\n\nvar _withWidth2 = _interopRequireDefault(_withWidth);\n\nvar _muiThemeable = require('material-ui/styles/muiThemeable');\n\nvar _muiThemeable2 = _interopRequireDefault(_muiThemeable);\n\nvar _compose = require('recompose/compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _translate = require('../../i18n/translate');\n\nvar _translate2 = _interopRequireDefault(_translate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar styles = {\n    button: {\n        margin: '10px 0'\n    },\n    pageInfo: {\n        padding: '1.2em'\n    },\n    mobileToolbar: {\n        margin: 'auto'\n    }\n};\n\nvar Pagination = exports.Pagination = function (_Component) {\n    (0, _inherits3.default)(Pagination, _Component);\n\n    function Pagination() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        (0, _classCallCheck3.default)(this, Pagination);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Pagination.__proto__ || Object.getPrototypeOf(Pagination)).call.apply(_ref, [this].concat(args))), _this), _this.prevPage = function (event) {\n            event.stopPropagation();\n            if (_this.props.page === 1) {\n                throw new Error(_this.props.translate('aor.navigation.page_out_from_begin'));\n            }\n            _this.props.setPage(_this.props.page - 1);\n        }, _this.nextPage = function (event) {\n            event.stopPropagation();\n            if (_this.props.page > _this.getNbPages()) {\n                throw new Error(_this.props.translate('aor.navigation.page_out_from_end'));\n            }\n            _this.props.setPage(_this.props.page + 1);\n        }, _this.gotoPage = function (event) {\n            event.stopPropagation();\n            var page = event.currentTarget.dataset.page;\n            if (page < 1 || page > _this.getNbPages()) {\n                throw new Error(_this.props.translate('aor.navigation.page_out_of_boundaries', {\n                    page: page\n                }));\n            }\n            _this.props.setPage(page);\n        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n\n    (0, _createClass3.default)(Pagination, [{\n        key: 'range',\n        value: function range() {\n            var input = [];\n            var _props = this.props,\n                page = _props.page,\n                perPage = _props.perPage,\n                total = _props.total;\n\n            if (isNaN(page)) return input;\n            var nbPages = Math.ceil(total / perPage) || 1;\n\n            // display page links around the current page\n            if (page > 2) {\n                input.push('1');\n            }\n            if (page === 4) {\n                input.push('2');\n            }\n            if (page > 4) {\n                input.push('.');\n            }\n            if (page > 1) {\n                input.push(page - 1);\n            }\n            input.push(page);\n            if (page < nbPages) {\n                input.push(page + 1);\n            }\n            if (page === nbPages - 3) {\n                input.push(nbPages - 1);\n            }\n            if (page < nbPages - 3) {\n                input.push('.');\n            }\n            if (page < nbPages - 1) {\n                input.push(nbPages);\n            }\n\n            return input;\n        }\n    }, {\n        key: 'getNbPages',\n        value: function getNbPages() {\n            return Math.ceil(this.props.total / this.props.perPage) || 1;\n        }\n    }, {\n        key: 'renderPageNums',\n        value: function renderPageNums() {\n            var _this2 = this;\n\n            return this.range().map(function (pageNum, index) {\n                return pageNum === '.' ? _react2.default.createElement(\n                    'span',\n                    { key: 'hyphen_' + index, style: { padding: '1.2em' } },\n                    '\\u2026'\n                ) : _react2.default.createElement(_FlatButton2.default, {\n                    className: 'page-number',\n                    key: pageNum,\n                    label: pageNum,\n                    'data-page': pageNum,\n                    onClick: _this2.gotoPage,\n                    primary: pageNum !== _this2.props.page,\n                    style: styles.button\n                });\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props2 = this.props,\n                muiTheme = _props2.muiTheme,\n                page = _props2.page,\n                perPage = _props2.perPage,\n                total = _props2.total,\n                translate = _props2.translate,\n                width = _props2.width;\n\n            if (total === 0) return null;\n            var offsetEnd = Math.min(page * perPage, total);\n            var offsetBegin = Math.min((page - 1) * perPage + 1, offsetEnd);\n            var nbPages = this.getNbPages();\n\n            return width === 1 ? _react2.default.createElement(\n                _Toolbar.Toolbar,\n                null,\n                _react2.default.createElement(\n                    _Toolbar.ToolbarGroup,\n                    { style: styles.mobileToolbar },\n                    page > 1 && _react2.default.createElement(\n                        _IconButton2.default,\n                        { onClick: this.prevPage },\n                        _react2.default.createElement(_chevronLeft2.default, {\n                            color: muiTheme.palette.primary1Color\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'span',\n                        { style: styles.pageInfo },\n                        translate('aor.navigation.page_range_info', {\n                            offsetBegin: offsetBegin,\n                            offsetEnd: offsetEnd,\n                            total: total\n                        })\n                    ),\n                    page !== nbPages && _react2.default.createElement(\n                        _IconButton2.default,\n                        { onClick: this.nextPage },\n                        _react2.default.createElement(_chevronRight2.default, {\n                            color: muiTheme.palette.primary1Color\n                        })\n                    )\n                )\n            ) : _react2.default.createElement(\n                _Toolbar.Toolbar,\n                null,\n                _react2.default.createElement(\n                    _Toolbar.ToolbarGroup,\n                    { firstChild: true },\n                    _react2.default.createElement(\n                        'span',\n                        { className: 'displayed-records', style: styles.pageInfo },\n                        translate('aor.navigation.page_range_info', {\n                            offsetBegin: offsetBegin,\n                            offsetEnd: offsetEnd,\n                            total: total\n                        })\n                    )\n                ),\n                nbPages > 1 && _react2.default.createElement(\n                    _Toolbar.ToolbarGroup,\n                    null,\n                    page > 1 && _react2.default.createElement(_FlatButton2.default, {\n                        className: 'previous-page',\n                        primary: true,\n                        key: 'prev',\n                        label: translate('aor.navigation.prev'),\n                        icon: _react2.default.createElement(_chevronLeft2.default, null),\n                        onClick: this.prevPage,\n                        style: styles.button\n                    }),\n                    this.renderPageNums(),\n                    page !== nbPages && _react2.default.createElement(_FlatButton2.default, {\n                        className: 'next-page',\n                        primary: true,\n                        key: 'next',\n                        label: translate('aor.navigation.next'),\n                        icon: _react2.default.createElement(_chevronRight2.default, null),\n                        labelPosition: 'before',\n                        onClick: this.nextPage,\n                        style: styles.button\n                    })\n                )\n            );\n        }\n    }]);\n    return Pagination;\n}(_react.Component);\n\nPagination.propTypes = {\n    muiTheme: _propTypes2.default.object.isRequired,\n    page: _propTypes2.default.number,\n    perPage: _propTypes2.default.number,\n    setPage: _propTypes2.default.func,\n    translate: _propTypes2.default.func.isRequired,\n    total: _propTypes2.default.number,\n    width: _propTypes2.default.number\n};\n\nvar enhance = (0, _compose2.default)(_pure2.default, _translate2.default, (0, _withWidth2.default)(), (0, _muiThemeable2.default)());\n\nexports.default = enhance(Pagination);"]},"metadata":{},"sourceType":"script"}