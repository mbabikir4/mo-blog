{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getResources = undefined;\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends4 = require('babel-runtime/helpers/extends');\n\nvar _extends5 = _interopRequireDefault(_extends4);\n\nvar _actions = require('../../../actions');\n\nvar _data = require('./data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _list = require('./list');\n\nvar _list2 = _interopRequireDefault(_list);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar initialState = {};\n\nexports.default = function () {\n  var previousState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments[1];\n  var dataReducer = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _data2.default;\n  var listReducer = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _list2.default;\n\n  if (action.type === _actions.DECLARE_RESOURCES) {\n    var _newState = action.payload.reduce(function (acc, resource) {\n      return (0, _extends5.default)({}, acc, (0, _defineProperty3.default)({}, resource.name, {\n        props: resource,\n        data: dataReducer(resource.name)(undefined, action),\n        list: listReducer(resource.name)(undefined, action)\n      }));\n    }, {});\n\n    return _newState;\n  }\n\n  if (!action.meta || !action.meta.resource) {\n    return previousState;\n  }\n\n  var resources = Object.keys(previousState);\n  var newState = resources.reduce(function (acc, resource) {\n    return (0, _extends5.default)({}, acc, (0, _defineProperty3.default)({}, resource, action.meta.resource === resource ? {\n      props: previousState[resource].props,\n      data: dataReducer(resource)(previousState[resource].data, action),\n      list: listReducer(resource)(previousState[resource].list, action)\n    } : {\n      props: previousState[resource].props,\n      data: previousState[resource].data,\n      list: previousState[resource].list\n    }));\n  }, {});\n  return newState;\n};\n\nvar getResources = exports.getResources = function getResources(state) {\n  return Object.keys(state).map(function (key) {\n    return state[key].props;\n  });\n};","map":{"version":3,"sources":["C:/Users/m2bab/VM/rd2/frontend/node_modules/admin-on-rest/lib/reducer/admin/resource/index.js"],"names":["Object","defineProperty","exports","value","getResources","undefined","_defineProperty2","require","_defineProperty3","_interopRequireDefault","_extends4","_extends5","_actions","_data","_data2","_list","_list2","obj","__esModule","default","initialState","previousState","arguments","length","action","dataReducer","listReducer","type","DECLARE_RESOURCES","_newState","payload","reduce","acc","resource","name","props","data","list","meta","resources","keys","newState","state","map","key"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getResources = undefined;\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends4 = require('babel-runtime/helpers/extends');\n\nvar _extends5 = _interopRequireDefault(_extends4);\n\nvar _actions = require('../../../actions');\n\nvar _data = require('./data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _list = require('./list');\n\nvar _list2 = _interopRequireDefault(_list);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar initialState = {};\n\nexports.default = function () {\n    var previousState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments[1];\n    var dataReducer = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _data2.default;\n    var listReducer = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _list2.default;\n\n    if (action.type === _actions.DECLARE_RESOURCES) {\n        var _newState = action.payload.reduce(function (acc, resource) {\n            return (0, _extends5.default)({}, acc, (0, _defineProperty3.default)({}, resource.name, {\n                props: resource,\n                data: dataReducer(resource.name)(undefined, action),\n                list: listReducer(resource.name)(undefined, action)\n            }));\n        }, {});\n        return _newState;\n    }\n\n    if (!action.meta || !action.meta.resource) {\n        return previousState;\n    }\n\n    var resources = Object.keys(previousState);\n    var newState = resources.reduce(function (acc, resource) {\n        return (0, _extends5.default)({}, acc, (0, _defineProperty3.default)({}, resource, action.meta.resource === resource ? {\n            props: previousState[resource].props,\n            data: dataReducer(resource)(previousState[resource].data, action),\n            list: listReducer(resource)(previousState[resource].list, action)\n        } : {\n            props: previousState[resource].props,\n            data: previousState[resource].data,\n            list: previousState[resource].list\n        }));\n    }, {});\n\n    return newState;\n};\n\nvar getResources = exports.getResources = function getResources(state) {\n    return Object.keys(state).map(function (key) {\n        return state[key].props;\n    });\n};"]},"metadata":{},"sourceType":"script"}