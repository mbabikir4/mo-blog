{"ast":null,"code":"import _toPath from 'lodash-es/toPath';\n\nfunction createDeleteInWithCleanUp(_ref) {\n  var deepEqual = _ref.deepEqual,\n      empty = _ref.empty,\n      getIn = _ref.getIn,\n      deleteIn = _ref.deleteIn,\n      setIn = _ref.setIn;\n\n  var deleteInWithCleanUp = function deleteInWithCleanUp(state, path) {\n    if (path[path.length - 1] === ']') {\n      // array path\n      var pathTokens = _toPath(path);\n\n      pathTokens.pop();\n      var parent = getIn(state, pathTokens.join('.'));\n      return parent ? setIn(state, path) : state;\n    }\n\n    var result = state;\n\n    if (getIn(state, path) !== undefined) {\n      result = deleteIn(state, path);\n    }\n\n    var dotIndex = path.lastIndexOf('.');\n\n    if (dotIndex > 0) {\n      var parentPath = path.substring(0, dotIndex);\n\n      if (parentPath[parentPath.length - 1] !== ']') {\n        var _parent = getIn(result, parentPath);\n\n        if (deepEqual(_parent, empty)) {\n          return deleteInWithCleanUp(result, parentPath);\n        }\n      }\n    }\n\n    return result;\n  };\n\n  return deleteInWithCleanUp;\n}\n\nexport default createDeleteInWithCleanUp;","map":{"version":3,"sources":["C:/Users/m2bab/VM/rd2/frontend/node_modules/admin-on-rest/node_modules/redux-form/es/deleteInWithCleanUp.js"],"names":["_toPath","createDeleteInWithCleanUp","_ref","deepEqual","empty","getIn","deleteIn","setIn","deleteInWithCleanUp","state","path","length","pathTokens","pop","parent","join","result","undefined","dotIndex","lastIndexOf","parentPath","substring","_parent"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,kBAApB;;AAGA,SAASC,yBAAT,CAAmCC,IAAnC,EAAyC;AACvC,MAAIC,SAAS,GAAGD,IAAI,CAACC,SAArB;AAAA,MACIC,KAAK,GAAGF,IAAI,CAACE,KADjB;AAAA,MAEIC,KAAK,GAAGH,IAAI,CAACG,KAFjB;AAAA,MAGIC,QAAQ,GAAGJ,IAAI,CAACI,QAHpB;AAAA,MAIIC,KAAK,GAAGL,IAAI,CAACK,KAJjB;;AAMA,MAAIC,mBAAmB,GAAG,SAASA,mBAAT,CAA6BC,KAA7B,EAAoCC,IAApC,EAA0C;AAClE,QAAIA,IAAI,CAACA,IAAI,CAACC,MAAL,GAAc,CAAf,CAAJ,KAA0B,GAA9B,EAAmC;AACjC;AACA,UAAIC,UAAU,GAAGZ,OAAO,CAACU,IAAD,CAAxB;;AACAE,MAAAA,UAAU,CAACC,GAAX;AACA,UAAIC,MAAM,GAAGT,KAAK,CAACI,KAAD,EAAQG,UAAU,CAACG,IAAX,CAAgB,GAAhB,CAAR,CAAlB;AACA,aAAOD,MAAM,GAAGP,KAAK,CAACE,KAAD,EAAQC,IAAR,CAAR,GAAwBD,KAArC;AACD;;AAED,QAAIO,MAAM,GAAGP,KAAb;;AACA,QAAIJ,KAAK,CAACI,KAAD,EAAQC,IAAR,CAAL,KAAuBO,SAA3B,EAAsC;AACpCD,MAAAA,MAAM,GAAGV,QAAQ,CAACG,KAAD,EAAQC,IAAR,CAAjB;AACD;;AAED,QAAIQ,QAAQ,GAAGR,IAAI,CAACS,WAAL,CAAiB,GAAjB,CAAf;;AACA,QAAID,QAAQ,GAAG,CAAf,EAAkB;AAChB,UAAIE,UAAU,GAAGV,IAAI,CAACW,SAAL,CAAe,CAAf,EAAkBH,QAAlB,CAAjB;;AACA,UAAIE,UAAU,CAACA,UAAU,CAACT,MAAX,GAAoB,CAArB,CAAV,KAAsC,GAA1C,EAA+C;AAC7C,YAAIW,OAAO,GAAGjB,KAAK,CAACW,MAAD,EAASI,UAAT,CAAnB;;AACA,YAAIjB,SAAS,CAACmB,OAAD,EAAUlB,KAAV,CAAb,EAA+B;AAC7B,iBAAOI,mBAAmB,CAACQ,MAAD,EAASI,UAAT,CAA1B;AACD;AACF;AACF;;AACD,WAAOJ,MAAP;AACD,GAzBD;;AA2BA,SAAOR,mBAAP;AACD;;AAED,eAAeP,yBAAf","sourcesContent":["import _toPath from 'lodash-es/toPath';\n\n\nfunction createDeleteInWithCleanUp(_ref) {\n  var deepEqual = _ref.deepEqual,\n      empty = _ref.empty,\n      getIn = _ref.getIn,\n      deleteIn = _ref.deleteIn,\n      setIn = _ref.setIn;\n\n  var deleteInWithCleanUp = function deleteInWithCleanUp(state, path) {\n    if (path[path.length - 1] === ']') {\n      // array path\n      var pathTokens = _toPath(path);\n      pathTokens.pop();\n      var parent = getIn(state, pathTokens.join('.'));\n      return parent ? setIn(state, path) : state;\n    }\n\n    var result = state;\n    if (getIn(state, path) !== undefined) {\n      result = deleteIn(state, path);\n    }\n\n    var dotIndex = path.lastIndexOf('.');\n    if (dotIndex > 0) {\n      var parentPath = path.substring(0, dotIndex);\n      if (parentPath[parentPath.length - 1] !== ']') {\n        var _parent = getIn(result, parentPath);\n        if (deepEqual(_parent, empty)) {\n          return deleteInWithCleanUp(result, parentPath);\n        }\n      }\n    }\n    return result;\n  };\n\n  return deleteInWithCleanUp;\n}\n\nexport default createDeleteInWithCleanUp;"]},"metadata":{},"sourceType":"module"}