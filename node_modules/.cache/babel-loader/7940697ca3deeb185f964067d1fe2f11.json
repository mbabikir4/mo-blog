{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.List = undefined;\n\nvar _extends3 = require('babel-runtime/helpers/extends');\n\nvar _extends4 = _interopRequireDefault(_extends3);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _queryString = require('query-string');\n\nvar _reactRouterRedux = require('react-router-redux');\n\nvar _Card = require('material-ui/Card');\n\nvar _compose = require('recompose/compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _reselect = require('reselect');\n\nvar _inflection = require('inflection');\n\nvar _inflection2 = _interopRequireDefault(_inflection);\n\nvar _getMuiTheme = require('material-ui/styles/getMuiTheme');\n\nvar _getMuiTheme2 = _interopRequireDefault(_getMuiTheme);\n\nvar _autoprefixer = require('material-ui/utils/autoprefixer');\n\nvar _autoprefixer2 = _interopRequireDefault(_autoprefixer);\n\nvar _queryReducer = require('../../reducer/admin/resource/list/queryReducer');\n\nvar _queryReducer2 = _interopRequireDefault(_queryReducer);\n\nvar _ViewTitle = require('../layout/ViewTitle');\n\nvar _ViewTitle2 = _interopRequireDefault(_ViewTitle);\n\nvar _Title = require('../layout/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _Pagination = require('./Pagination');\n\nvar _Pagination2 = _interopRequireDefault(_Pagination);\n\nvar _Actions = require('./Actions');\n\nvar _Actions2 = _interopRequireDefault(_Actions);\n\nvar _dataActions = require('../../actions/dataActions');\n\nvar _listActions = require('../../actions/listActions');\n\nvar _uiActions = require('../../actions/uiActions');\n\nvar _translate = require('../../i18n/translate');\n\nvar _translate2 = _interopRequireDefault(_translate);\n\nvar _removeKey = require('../../util/removeKey');\n\nvar _removeKey2 = _interopRequireDefault(_removeKey);\n\nvar _defaultTheme = require('../defaultTheme');\n\nvar _defaultTheme2 = _interopRequireDefault(_defaultTheme);\n\nvar _withPermissionsFilteredChildren = require('../../auth/withPermissionsFilteredChildren');\n\nvar _withPermissionsFilteredChildren2 = _interopRequireDefault(_withPermissionsFilteredChildren);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar styles = {\n  noResults: {\n    padding: 20\n  },\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between'\n  }\n};\n/**\n * List page component\n *\n * The <List> component renders the list layout (title, buttons, filters, pagination),\n * and fetches the list of records from the REST API.\n * It then delegates the rendering of the list of records to its child component.\n * Usually, it's a <Datagrid>, responsible for displaying a table with one row for each post.\n *\n * In Redux terms, <List> is a connected component, and <Datagrid> is a dumb component.\n *\n * Props:\n *   - title\n *   - perPage\n *   - sort\n *   - filter (the permanent filter to apply to the query)\n *   - actions\n *   - filters (a React Element used to display the filter form)\n *   - pagination\n *\n * @example\n *     const PostFilter = (props) => (\n *         <Filter {...props}>\n *             <TextInput label=\"Search\" source=\"q\" alwaysOn />\n *             <TextInput label=\"Title\" source=\"title\" />\n *         </Filter>\n *     );\n *     export const PostList = (props) => (\n *         <List {...props}\n *             title=\"List of posts\"\n *             sort={{ field: 'published_at' }}\n *             filter={{ is_published: true }}\n *             filters={<PostFilter />}\n *         >\n *             <Datagrid>\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"title\" />\n *                 <EditButton />\n *             </Datagrid>\n *         </List>\n *     );\n */\n\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\"] }] */\n\nvar List = exports.List = function (_Component) {\n  (0, _inherits3.default)(List, _Component);\n\n  function List() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, List);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = List.__proto__ || Object.getPrototypeOf(List)).call.apply(_ref, [this].concat(args))), _this), _this.state = {}, _this.setSort = function (sort) {\n      return _this.changeParams({\n        type: _queryReducer.SET_SORT,\n        payload: sort\n      });\n    }, _this.setPage = function (page) {\n      return _this.changeParams({\n        type: _queryReducer.SET_PAGE,\n        payload: page\n      });\n    }, _this.setFilters = function (filters) {\n      return _this.changeParams({\n        type: _queryReducer.SET_FILTER,\n        payload: filters\n      });\n    }, _this.showFilter = function (filterName, defaultValue) {\n      _this.setState((0, _defineProperty3.default)({}, filterName, true));\n\n      if (typeof defaultValue !== 'undefined') {\n        _this.setFilters((0, _extends4.default)({}, _this.props.filterValues, (0, _defineProperty3.default)({}, filterName, defaultValue)));\n      }\n    }, _this.hideFilter = function (filterName) {\n      _this.setState((0, _defineProperty3.default)({}, filterName, false));\n\n      var newFilters = (0, _removeKey2.default)(_this.props.filterValues, filterName);\n\n      _this.setFilters(newFilters);\n    }, _this.refresh = function () {\n      if (process.env !== 'production') {\n        console.warn('Deprecation warning: The preferred way to refresh the List view is to connect your custom button with redux and dispatch the `refreshView` action.');\n      }\n\n      _this.props.refreshView();\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(List, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (!this.props.query.page && !this.props.ids.length && this.props.params.page > 1 && this.props.total > 0) {\n        this.setPage(this.props.params.page - 1);\n        return;\n      }\n\n      this.updateData();\n\n      if (Object.keys(this.props.query).length > 0) {\n        this.props.changeListParams(this.props.resource, this.props.query);\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.resource !== this.props.resource || nextProps.query.sort !== this.props.query.sort || nextProps.query.order !== this.props.query.order || nextProps.query.page !== this.props.query.page || nextProps.query.filter !== this.props.query.filter) {\n        this.updateData(Object.keys(nextProps.query).length > 0 ? nextProps.query : nextProps.params);\n      }\n\n      if (nextProps.version !== this.props.version) {\n        this.updateData();\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (nextProps.isLoading === this.props.isLoading && nextProps.width === this.props.width && nextProps.version === this.props.version && nextState === this.state && nextProps.data === this.props.data) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'getBasePath',\n    value: function getBasePath() {\n      return this.props.location.pathname.replace(/\\/$/, '');\n    }\n    /**\n     * Merge list params from 3 different sources:\n     *   - the query string\n     *   - the params stored in the state (from previous navigation)\n     *   - the props passed to the List component\n     */\n\n  }, {\n    key: 'getQuery',\n    value: function getQuery() {\n      var query = Object.keys(this.props.query).length > 0 ? this.props.query : (0, _extends4.default)({}, this.props.params);\n\n      if (!query.sort) {\n        query.sort = this.props.sort.field;\n        query.order = this.props.sort.order;\n      }\n\n      if (!query.perPage) {\n        query.perPage = this.props.perPage;\n      }\n\n      if (!query.page) {\n        query.page = 1;\n      }\n\n      return query;\n    }\n  }, {\n    key: 'updateData',\n    value: function updateData(query) {\n      var params = query || this.getQuery();\n      var sort = params.sort,\n          order = params.order,\n          _params$page = params.page,\n          page = _params$page === undefined ? 1 : _params$page,\n          perPage = params.perPage,\n          filter = params.filter;\n      var pagination = {\n        page: parseInt(page, 10),\n        perPage: parseInt(perPage, 10)\n      };\n      var permanentFilter = this.props.filter;\n      this.props.crudGetList(this.props.resource, pagination, {\n        field: sort,\n        order: order\n      }, (0, _extends4.default)({}, filter, permanentFilter));\n    }\n  }, {\n    key: 'changeParams',\n    value: function changeParams(action) {\n      var newParams = (0, _queryReducer2.default)(this.getQuery(), action);\n      this.props.push((0, _extends4.default)({}, this.props.location, {\n        search: '?' + (0, _queryString.stringify)((0, _extends4.default)({}, newParams, {\n          filter: JSON.stringify(newParams.filter)\n        }))\n      }));\n      this.props.changeListParams(this.props.resource, newParams);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          filters = _props.filters,\n          _props$pagination = _props.pagination,\n          pagination = _props$pagination === undefined ? _react2.default.createElement(_Pagination2.default, null) : _props$pagination,\n          _props$actions = _props.actions,\n          actions = _props$actions === undefined ? _react2.default.createElement(_Actions2.default, null) : _props$actions,\n          resource = _props.resource,\n          hasCreate = _props.hasCreate,\n          title = _props.title,\n          data = _props.data,\n          ids = _props.ids,\n          total = _props.total,\n          isLoading = _props.isLoading,\n          translate = _props.translate,\n          theme = _props.theme,\n          version = _props.version;\n      var query = this.getQuery();\n      var filterValues = query.filter;\n      var basePath = this.getBasePath();\n      var resourceName = translate('resources.' + resource + '.name', {\n        smart_count: 2,\n        _: _inflection2.default.humanize(_inflection2.default.pluralize(resource))\n      });\n      var defaultTitle = translate('aor.page.list', {\n        name: '' + resourceName\n      });\n\n      var titleElement = _react2.default.createElement(_Title2.default, {\n        title: title,\n        defaultTitle: defaultTitle\n      });\n\n      var muiTheme = (0, _getMuiTheme2.default)(theme);\n      var prefix = (0, _autoprefixer2.default)(muiTheme);\n      return _react2.default.createElement('div', {\n        className: 'list-page'\n      }, _react2.default.createElement(_Card.Card, {\n        style: {\n          opacity: isLoading ? 0.8 : 1\n        }\n      }, _react2.default.createElement('div', {\n        style: prefix(styles.header)\n      }, _react2.default.createElement(_ViewTitle2.default, {\n        title: titleElement\n      }), actions && _react2.default.cloneElement(actions, {\n        resource: resource,\n        filters: filters,\n        filterValues: filterValues,\n        basePath: basePath,\n        hasCreate: hasCreate,\n        displayedFilters: this.state,\n        showFilter: this.showFilter,\n        theme: theme,\n        refresh: this.refresh\n      })), filters && _react2.default.cloneElement(filters, {\n        resource: resource,\n        hideFilter: this.hideFilter,\n        filterValues: filterValues,\n        displayedFilters: this.state,\n        setFilters: this.setFilters,\n        context: 'form'\n      }), isLoading || total > 0 ? _react2.default.createElement('div', {\n        key: version\n      }, ids.length > 0 && children && _react2.default.cloneElement(children, {\n        resource: resource,\n        ids: ids,\n        data: data,\n        currentSort: {\n          field: query.sort,\n          order: query.order\n        },\n        basePath: basePath,\n        isLoading: isLoading,\n        setSort: this.setSort\n      }), !isLoading && !ids.length && _react2.default.createElement(_Card.CardText, {\n        style: styles.noResults\n      }, translate('aor.navigation.no_more_results', {\n        page: query.page\n      })), pagination && _react2.default.cloneElement(pagination, {\n        total: total,\n        page: parseInt(query.page || 1, 10),\n        perPage: parseInt(query.perPage, 10),\n        setPage: this.setPage\n      })) : _react2.default.createElement(_Card.CardText, {\n        style: styles.noResults\n      }, translate('aor.navigation.no_results'))));\n    }\n  }]);\n  return List;\n}(_react.Component);\n\nList.propTypes = {\n  // the props you can change\n  title: _propTypes2.default.any,\n  filter: _propTypes2.default.object,\n  filters: _propTypes2.default.element,\n  pagination: _propTypes2.default.element,\n  actions: _propTypes2.default.element,\n  perPage: _propTypes2.default.number.isRequired,\n  sort: _propTypes2.default.shape({\n    field: _propTypes2.default.string,\n    order: _propTypes2.default.string\n  }),\n  children: _propTypes2.default.node,\n  // the props managed by admin-on-rest\n  authClient: _propTypes2.default.func,\n  changeListParams: _propTypes2.default.func.isRequired,\n  crudGetList: _propTypes2.default.func.isRequired,\n  data: _propTypes2.default.object,\n  // eslint-disable-line react/forbid-prop-types\n  filterValues: _propTypes2.default.object,\n  // eslint-disable-line react/forbid-prop-types\n  hasCreate: _propTypes2.default.bool.isRequired,\n  ids: _propTypes2.default.array,\n  isLoading: _propTypes2.default.bool.isRequired,\n  location: _propTypes2.default.object.isRequired,\n  path: _propTypes2.default.string,\n  params: _propTypes2.default.object.isRequired,\n  push: _propTypes2.default.func.isRequired,\n  query: _propTypes2.default.object.isRequired,\n  resource: _propTypes2.default.string.isRequired,\n  refreshView: _propTypes2.default.func.isRequired,\n  total: _propTypes2.default.number.isRequired,\n  translate: _propTypes2.default.func.isRequired,\n  theme: _propTypes2.default.object.isRequired,\n  version: _propTypes2.default.number.isRequired\n};\nList.defaultProps = {\n  filter: {},\n  filterValues: {},\n  perPage: 10,\n  sort: {\n    field: 'id',\n    order: _queryReducer.SORT_DESC\n  },\n  theme: _defaultTheme2.default\n};\n\nvar getLocationSearch = function getLocationSearch(props) {\n  return props.location.search;\n};\n\nvar getQuery = (0, _reselect.createSelector)(getLocationSearch, function (locationSearch) {\n  var query = (0, _queryString.parse)(locationSearch);\n\n  if (query.filter && typeof query.filter === 'string') {\n    query.filter = JSON.parse(query.filter);\n  }\n\n  return query;\n});\n\nfunction mapStateToProps(state, props) {\n  var resourceState = state.admin.resources[props.resource];\n  return {\n    query: getQuery(props),\n    params: resourceState.list.params,\n    ids: resourceState.list.ids,\n    total: resourceState.list.total,\n    data: resourceState.data,\n    isLoading: state.admin.loading > 0,\n    filterValues: resourceState.list.params.filter,\n    version: state.admin.ui.viewVersion\n  };\n}\n\nvar enhance = (0, _compose2.default)((0, _reactRedux.connect)(mapStateToProps, {\n  crudGetList: _dataActions.crudGetList,\n  changeListParams: _listActions.changeListParams,\n  push: _reactRouterRedux.push,\n  refreshView: _uiActions.refreshView\n}), _translate2.default, _withPermissionsFilteredChildren2.default);\nexports.default = enhance(List);","map":{"version":3,"sources":["C:/Users/m2bab/VM/rd2/frontend/node_modules/admin-on-rest/lib/mui/list/List.js"],"names":["Object","defineProperty","exports","value","List","undefined","_extends3","require","_extends4","_interopRequireDefault","_defineProperty2","_defineProperty3","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_reactRedux","_queryString","_reactRouterRedux","_Card","_compose","_compose2","_reselect","_inflection","_inflection2","_getMuiTheme","_getMuiTheme2","_autoprefixer","_autoprefixer2","_queryReducer","_queryReducer2","_ViewTitle","_ViewTitle2","_Title","_Title2","_Pagination","_Pagination2","_Actions","_Actions2","_dataActions","_listActions","_uiActions","_translate","_translate2","_removeKey","_removeKey2","_defaultTheme","_defaultTheme2","_withPermissionsFilteredChildren","_withPermissionsFilteredChildren2","obj","__esModule","default","styles","noResults","padding","header","display","justifyContent","_Component","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","__proto__","getPrototypeOf","call","apply","concat","state","setSort","sort","changeParams","type","SET_SORT","payload","setPage","page","SET_PAGE","setFilters","filters","SET_FILTER","showFilter","filterName","defaultValue","setState","props","filterValues","hideFilter","newFilters","refresh","process","env","console","warn","refreshView","key","componentDidMount","query","ids","params","total","updateData","keys","changeListParams","resource","componentWillReceiveProps","nextProps","order","filter","version","shouldComponentUpdate","nextState","isLoading","width","data","getBasePath","location","pathname","replace","getQuery","field","perPage","_params$page","pagination","parseInt","permanentFilter","crudGetList","action","newParams","push","search","stringify","JSON","render","_props","children","_props$pagination","createElement","_props$actions","actions","hasCreate","title","translate","theme","basePath","resourceName","smart_count","_","humanize","pluralize","defaultTitle","name","titleElement","muiTheme","prefix","className","Card","style","opacity","cloneElement","displayedFilters","context","currentSort","CardText","Component","propTypes","any","object","element","number","isRequired","shape","string","node","authClient","func","bool","array","path","defaultProps","SORT_DESC","getLocationSearch","createSelector","locationSearch","parse","mapStateToProps","resourceState","admin","resources","list","loading","ui","viewVersion","enhance","connect"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.List = undefined;\n\nvar _extends3 = require('babel-runtime/helpers/extends');\n\nvar _extends4 = _interopRequireDefault(_extends3);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _queryString = require('query-string');\n\nvar _reactRouterRedux = require('react-router-redux');\n\nvar _Card = require('material-ui/Card');\n\nvar _compose = require('recompose/compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _reselect = require('reselect');\n\nvar _inflection = require('inflection');\n\nvar _inflection2 = _interopRequireDefault(_inflection);\n\nvar _getMuiTheme = require('material-ui/styles/getMuiTheme');\n\nvar _getMuiTheme2 = _interopRequireDefault(_getMuiTheme);\n\nvar _autoprefixer = require('material-ui/utils/autoprefixer');\n\nvar _autoprefixer2 = _interopRequireDefault(_autoprefixer);\n\nvar _queryReducer = require('../../reducer/admin/resource/list/queryReducer');\n\nvar _queryReducer2 = _interopRequireDefault(_queryReducer);\n\nvar _ViewTitle = require('../layout/ViewTitle');\n\nvar _ViewTitle2 = _interopRequireDefault(_ViewTitle);\n\nvar _Title = require('../layout/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _Pagination = require('./Pagination');\n\nvar _Pagination2 = _interopRequireDefault(_Pagination);\n\nvar _Actions = require('./Actions');\n\nvar _Actions2 = _interopRequireDefault(_Actions);\n\nvar _dataActions = require('../../actions/dataActions');\n\nvar _listActions = require('../../actions/listActions');\n\nvar _uiActions = require('../../actions/uiActions');\n\nvar _translate = require('../../i18n/translate');\n\nvar _translate2 = _interopRequireDefault(_translate);\n\nvar _removeKey = require('../../util/removeKey');\n\nvar _removeKey2 = _interopRequireDefault(_removeKey);\n\nvar _defaultTheme = require('../defaultTheme');\n\nvar _defaultTheme2 = _interopRequireDefault(_defaultTheme);\n\nvar _withPermissionsFilteredChildren = require('../../auth/withPermissionsFilteredChildren');\n\nvar _withPermissionsFilteredChildren2 = _interopRequireDefault(_withPermissionsFilteredChildren);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar styles = {\n    noResults: { padding: 20 },\n    header: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    }\n};\n\n/**\n * List page component\n *\n * The <List> component renders the list layout (title, buttons, filters, pagination),\n * and fetches the list of records from the REST API.\n * It then delegates the rendering of the list of records to its child component.\n * Usually, it's a <Datagrid>, responsible for displaying a table with one row for each post.\n *\n * In Redux terms, <List> is a connected component, and <Datagrid> is a dumb component.\n *\n * Props:\n *   - title\n *   - perPage\n *   - sort\n *   - filter (the permanent filter to apply to the query)\n *   - actions\n *   - filters (a React Element used to display the filter form)\n *   - pagination\n *\n * @example\n *     const PostFilter = (props) => (\n *         <Filter {...props}>\n *             <TextInput label=\"Search\" source=\"q\" alwaysOn />\n *             <TextInput label=\"Title\" source=\"title\" />\n *         </Filter>\n *     );\n *     export const PostList = (props) => (\n *         <List {...props}\n *             title=\"List of posts\"\n *             sort={{ field: 'published_at' }}\n *             filter={{ is_published: true }}\n *             filters={<PostFilter />}\n *         >\n *             <Datagrid>\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"title\" />\n *                 <EditButton />\n *             </Datagrid>\n *         </List>\n *     );\n */\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\"] }] */\n\nvar List = exports.List = function (_Component) {\n    (0, _inherits3.default)(List, _Component);\n\n    function List() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        (0, _classCallCheck3.default)(this, List);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = List.__proto__ || Object.getPrototypeOf(List)).call.apply(_ref, [this].concat(args))), _this), _this.state = {}, _this.setSort = function (sort) {\n            return _this.changeParams({ type: _queryReducer.SET_SORT, payload: sort });\n        }, _this.setPage = function (page) {\n            return _this.changeParams({ type: _queryReducer.SET_PAGE, payload: page });\n        }, _this.setFilters = function (filters) {\n            return _this.changeParams({ type: _queryReducer.SET_FILTER, payload: filters });\n        }, _this.showFilter = function (filterName, defaultValue) {\n            _this.setState((0, _defineProperty3.default)({}, filterName, true));\n            if (typeof defaultValue !== 'undefined') {\n                _this.setFilters((0, _extends4.default)({}, _this.props.filterValues, (0, _defineProperty3.default)({}, filterName, defaultValue)));\n            }\n        }, _this.hideFilter = function (filterName) {\n            _this.setState((0, _defineProperty3.default)({}, filterName, false));\n            var newFilters = (0, _removeKey2.default)(_this.props.filterValues, filterName);\n            _this.setFilters(newFilters);\n        }, _this.refresh = function () {\n            if (process.env !== 'production') {\n                console.warn('Deprecation warning: The preferred way to refresh the List view is to connect your custom button with redux and dispatch the `refreshView` action.');\n            }\n\n            _this.props.refreshView();\n        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n\n    (0, _createClass3.default)(List, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            if (!this.props.query.page && !this.props.ids.length && this.props.params.page > 1 && this.props.total > 0) {\n                this.setPage(this.props.params.page - 1);\n                return;\n            }\n\n            this.updateData();\n            if (Object.keys(this.props.query).length > 0) {\n                this.props.changeListParams(this.props.resource, this.props.query);\n            }\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (nextProps.resource !== this.props.resource || nextProps.query.sort !== this.props.query.sort || nextProps.query.order !== this.props.query.order || nextProps.query.page !== this.props.query.page || nextProps.query.filter !== this.props.query.filter) {\n                this.updateData(Object.keys(nextProps.query).length > 0 ? nextProps.query : nextProps.params);\n            }\n            if (nextProps.version !== this.props.version) {\n                this.updateData();\n            }\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            if (nextProps.isLoading === this.props.isLoading && nextProps.width === this.props.width && nextProps.version === this.props.version && nextState === this.state && nextProps.data === this.props.data) {\n                return false;\n            }\n            return true;\n        }\n    }, {\n        key: 'getBasePath',\n        value: function getBasePath() {\n            return this.props.location.pathname.replace(/\\/$/, '');\n        }\n\n        /**\n         * Merge list params from 3 different sources:\n         *   - the query string\n         *   - the params stored in the state (from previous navigation)\n         *   - the props passed to the List component\n         */\n\n    }, {\n        key: 'getQuery',\n        value: function getQuery() {\n            var query = Object.keys(this.props.query).length > 0 ? this.props.query : (0, _extends4.default)({}, this.props.params);\n            if (!query.sort) {\n                query.sort = this.props.sort.field;\n                query.order = this.props.sort.order;\n            }\n            if (!query.perPage) {\n                query.perPage = this.props.perPage;\n            }\n            if (!query.page) {\n                query.page = 1;\n            }\n            return query;\n        }\n    }, {\n        key: 'updateData',\n        value: function updateData(query) {\n            var params = query || this.getQuery();\n            var sort = params.sort,\n                order = params.order,\n                _params$page = params.page,\n                page = _params$page === undefined ? 1 : _params$page,\n                perPage = params.perPage,\n                filter = params.filter;\n\n            var pagination = {\n                page: parseInt(page, 10),\n                perPage: parseInt(perPage, 10)\n            };\n            var permanentFilter = this.props.filter;\n            this.props.crudGetList(this.props.resource, pagination, { field: sort, order: order }, (0, _extends4.default)({}, filter, permanentFilter));\n        }\n    }, {\n        key: 'changeParams',\n        value: function changeParams(action) {\n            var newParams = (0, _queryReducer2.default)(this.getQuery(), action);\n            this.props.push((0, _extends4.default)({}, this.props.location, {\n                search: '?' + (0, _queryString.stringify)((0, _extends4.default)({}, newParams, {\n                    filter: JSON.stringify(newParams.filter)\n                }))\n            }));\n            this.props.changeListParams(this.props.resource, newParams);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                children = _props.children,\n                filters = _props.filters,\n                _props$pagination = _props.pagination,\n                pagination = _props$pagination === undefined ? _react2.default.createElement(_Pagination2.default, null) : _props$pagination,\n                _props$actions = _props.actions,\n                actions = _props$actions === undefined ? _react2.default.createElement(_Actions2.default, null) : _props$actions,\n                resource = _props.resource,\n                hasCreate = _props.hasCreate,\n                title = _props.title,\n                data = _props.data,\n                ids = _props.ids,\n                total = _props.total,\n                isLoading = _props.isLoading,\n                translate = _props.translate,\n                theme = _props.theme,\n                version = _props.version;\n\n\n            var query = this.getQuery();\n            var filterValues = query.filter;\n            var basePath = this.getBasePath();\n\n            var resourceName = translate('resources.' + resource + '.name', {\n                smart_count: 2,\n                _: _inflection2.default.humanize(_inflection2.default.pluralize(resource))\n            });\n            var defaultTitle = translate('aor.page.list', {\n                name: '' + resourceName\n            });\n            var titleElement = _react2.default.createElement(_Title2.default, { title: title, defaultTitle: defaultTitle });\n            var muiTheme = (0, _getMuiTheme2.default)(theme);\n            var prefix = (0, _autoprefixer2.default)(muiTheme);\n            return _react2.default.createElement(\n                'div',\n                { className: 'list-page' },\n                _react2.default.createElement(\n                    _Card.Card,\n                    { style: { opacity: isLoading ? 0.8 : 1 } },\n                    _react2.default.createElement(\n                        'div',\n                        { style: prefix(styles.header) },\n                        _react2.default.createElement(_ViewTitle2.default, { title: titleElement }),\n                        actions && _react2.default.cloneElement(actions, {\n                            resource: resource,\n                            filters: filters,\n                            filterValues: filterValues,\n                            basePath: basePath,\n                            hasCreate: hasCreate,\n                            displayedFilters: this.state,\n                            showFilter: this.showFilter,\n                            theme: theme,\n                            refresh: this.refresh\n                        })\n                    ),\n                    filters && _react2.default.cloneElement(filters, {\n                        resource: resource,\n                        hideFilter: this.hideFilter,\n                        filterValues: filterValues,\n                        displayedFilters: this.state,\n                        setFilters: this.setFilters,\n                        context: 'form'\n                    }),\n                    isLoading || total > 0 ? _react2.default.createElement(\n                        'div',\n                        { key: version },\n                        ids.length > 0 && children && _react2.default.cloneElement(children, {\n                            resource: resource,\n                            ids: ids,\n                            data: data,\n                            currentSort: {\n                                field: query.sort,\n                                order: query.order\n                            },\n                            basePath: basePath,\n                            isLoading: isLoading,\n                            setSort: this.setSort\n                        }),\n                        !isLoading && !ids.length && _react2.default.createElement(\n                            _Card.CardText,\n                            { style: styles.noResults },\n                            translate('aor.navigation.no_more_results', {\n                                page: query.page\n                            })\n                        ),\n                        pagination && _react2.default.cloneElement(pagination, {\n                            total: total,\n                            page: parseInt(query.page || 1, 10),\n                            perPage: parseInt(query.perPage, 10),\n                            setPage: this.setPage\n                        })\n                    ) : _react2.default.createElement(\n                        _Card.CardText,\n                        { style: styles.noResults },\n                        translate('aor.navigation.no_results')\n                    )\n                )\n            );\n        }\n    }]);\n    return List;\n}(_react.Component);\n\nList.propTypes = {\n    // the props you can change\n    title: _propTypes2.default.any,\n    filter: _propTypes2.default.object,\n    filters: _propTypes2.default.element,\n    pagination: _propTypes2.default.element,\n    actions: _propTypes2.default.element,\n    perPage: _propTypes2.default.number.isRequired,\n    sort: _propTypes2.default.shape({\n        field: _propTypes2.default.string,\n        order: _propTypes2.default.string\n    }),\n    children: _propTypes2.default.node,\n    // the props managed by admin-on-rest\n    authClient: _propTypes2.default.func,\n    changeListParams: _propTypes2.default.func.isRequired,\n    crudGetList: _propTypes2.default.func.isRequired,\n    data: _propTypes2.default.object, // eslint-disable-line react/forbid-prop-types\n    filterValues: _propTypes2.default.object, // eslint-disable-line react/forbid-prop-types\n    hasCreate: _propTypes2.default.bool.isRequired,\n    ids: _propTypes2.default.array,\n    isLoading: _propTypes2.default.bool.isRequired,\n    location: _propTypes2.default.object.isRequired,\n    path: _propTypes2.default.string,\n    params: _propTypes2.default.object.isRequired,\n    push: _propTypes2.default.func.isRequired,\n    query: _propTypes2.default.object.isRequired,\n    resource: _propTypes2.default.string.isRequired,\n    refreshView: _propTypes2.default.func.isRequired,\n    total: _propTypes2.default.number.isRequired,\n    translate: _propTypes2.default.func.isRequired,\n    theme: _propTypes2.default.object.isRequired,\n    version: _propTypes2.default.number.isRequired\n};\n\nList.defaultProps = {\n    filter: {},\n    filterValues: {},\n    perPage: 10,\n    sort: {\n        field: 'id',\n        order: _queryReducer.SORT_DESC\n    },\n    theme: _defaultTheme2.default\n};\n\nvar getLocationSearch = function getLocationSearch(props) {\n    return props.location.search;\n};\nvar getQuery = (0, _reselect.createSelector)(getLocationSearch, function (locationSearch) {\n    var query = (0, _queryString.parse)(locationSearch);\n    if (query.filter && typeof query.filter === 'string') {\n        query.filter = JSON.parse(query.filter);\n    }\n    return query;\n});\n\nfunction mapStateToProps(state, props) {\n    var resourceState = state.admin.resources[props.resource];\n    return {\n        query: getQuery(props),\n        params: resourceState.list.params,\n        ids: resourceState.list.ids,\n        total: resourceState.list.total,\n        data: resourceState.data,\n        isLoading: state.admin.loading > 0,\n        filterValues: resourceState.list.params.filter,\n        version: state.admin.ui.viewVersion\n    };\n}\n\nvar enhance = (0, _compose2.default)((0, _reactRedux.connect)(mapStateToProps, {\n    crudGetList: _dataActions.crudGetList,\n    changeListParams: _listActions.changeListParams,\n    push: _reactRouterRedux.push,\n    refreshView: _uiActions.refreshView\n}), _translate2.default, _withPermissionsFilteredChildren2.default);\n\nexports.default = enhance(List);"]},"metadata":{},"sourceType":"script"}