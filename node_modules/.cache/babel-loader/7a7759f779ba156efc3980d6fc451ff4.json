{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SelectInput = undefined;\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lodash = require('lodash.get');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _SelectField = require('material-ui/SelectField');\n\nvar _SelectField2 = _interopRequireDefault(_SelectField);\n\nvar _MenuItem = require('material-ui/MenuItem');\n\nvar _MenuItem2 = _interopRequireDefault(_MenuItem);\n\nvar _translate = require('../../i18n/translate');\n\nvar _translate2 = _interopRequireDefault(_translate);\n\nvar _FieldTitle = require('../../util/FieldTitle');\n\nvar _FieldTitle2 = _interopRequireDefault(_FieldTitle);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * An Input component for a select box, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property an the option text\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <SelectInput source=\"gender\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <SelectInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <SelectInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectInput source=\"gender\" choices={choices} optionText={<FullNameField />}/>\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <SelectInput source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * The object passed as `options` props is passed to the material-ui <SelectField> component\n */\n\n\nvar SelectInput = exports.SelectInput = function (_Component) {\n  (0, _inherits3.default)(SelectInput, _Component);\n\n  function SelectInput() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, SelectInput);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = SelectInput.__proto__ || Object.getPrototypeOf(SelectInput)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      value: _this.props.input.value\n    }, _this.handleChange = function (event, index, value) {\n      _this.props.input.onChange(value);\n\n      _this.setState({\n        value: value\n      });\n    }, _this.addAllowEmpty = function (choices) {\n      if (_this.props.allowEmpty) {\n        return [_react2.default.createElement(_MenuItem2.default, {\n          value: null,\n          key: 'null',\n          primaryText: ''\n        })].concat((0, _toConsumableArray3.default)(choices));\n      }\n\n      return choices;\n    }, _this.renderMenuItem = function (choice) {\n      var _this$props = _this.props,\n          optionText = _this$props.optionText,\n          optionValue = _this$props.optionValue,\n          translate = _this$props.translate,\n          translateChoice = _this$props.translateChoice;\n      var choiceName = _react2.default.isValidElement(optionText) // eslint-disable-line no-nested-ternary\n      ? _react2.default.cloneElement(optionText, {\n        record: choice\n      }) : typeof optionText === 'function' ? optionText(choice) : (0, _lodash2.default)(choice, optionText);\n      return _react2.default.createElement(_MenuItem2.default, {\n        key: (0, _lodash2.default)(choice, optionValue),\n        primaryText: translateChoice ? translate(choiceName, {\n          _: choiceName\n        }) : choiceName,\n        value: (0, _lodash2.default)(choice, optionValue)\n      });\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n  /*\n   * Using state to bypass a redux-form comparison but which prevents re-rendering\n   * @see https://github.com/erikras/redux-form/issues/2456\n   */\n\n\n  (0, _createClass3.default)(SelectInput, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.input.value !== this.props.input.value) {\n        this.setState({\n          value: nextProps.input.value\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          choices = _props.choices,\n          elStyle = _props.elStyle,\n          isRequired = _props.isRequired,\n          label = _props.label,\n          meta = _props.meta,\n          options = _props.options,\n          resource = _props.resource,\n          source = _props.source;\n\n      if (typeof meta === 'undefined') {\n        throw new Error(\"The SelectInput component wasn't called within a redux-form <Field>. Did you decorate it and forget to add the addField prop to your component? See https://marmelab.com/admin-on-rest/Inputs.html#writing-your-own-input-component for details.\");\n      }\n\n      var touched = meta.touched,\n          error = meta.error;\n      return _react2.default.createElement(_SelectField2.default, (0, _extends3.default)({\n        value: this.state.value,\n        floatingLabelText: _react2.default.createElement(_FieldTitle2.default, {\n          label: label,\n          source: source,\n          resource: resource,\n          isRequired: isRequired\n        }),\n        onChange: this.handleChange,\n        autoWidth: true,\n        style: elStyle,\n        errorText: touched && error\n      }, options), this.addAllowEmpty(choices.map(this.renderMenuItem)));\n    }\n  }]);\n  return SelectInput;\n}(_react.Component);\n\nSelectInput.propTypes = {\n  addField: _propTypes2.default.bool.isRequired,\n  allowEmpty: _propTypes2.default.bool.isRequired,\n  choices: _propTypes2.default.arrayOf(_propTypes2.default.object),\n  elStyle: _propTypes2.default.object,\n  input: _propTypes2.default.object,\n  isRequired: _propTypes2.default.bool,\n  label: _propTypes2.default.string,\n  meta: _propTypes2.default.object,\n  options: _propTypes2.default.object,\n  optionText: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func, _propTypes2.default.element]).isRequired,\n  optionValue: _propTypes2.default.string.isRequired,\n  resource: _propTypes2.default.string,\n  source: _propTypes2.default.string,\n  translate: _propTypes2.default.func.isRequired,\n  translateChoice: _propTypes2.default.bool.isRequired\n};\nSelectInput.defaultProps = {\n  addField: true,\n  allowEmpty: false,\n  choices: [],\n  options: {},\n  optionText: 'name',\n  optionValue: 'id',\n  translateChoice: true\n};\nexports.default = (0, _translate2.default)(SelectInput);","map":{"version":3,"sources":["C:/Users/m2bab/VM/rd2/frontend/node_modules/admin-on-rest/lib/mui/input/SelectInput.js"],"names":["Object","defineProperty","exports","value","SelectInput","undefined","_extends2","require","_extends3","_interopRequireDefault","_toConsumableArray2","_toConsumableArray3","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_lodash","_lodash2","_SelectField","_SelectField2","_MenuItem","_MenuItem2","_translate","_translate2","_FieldTitle","_FieldTitle2","obj","__esModule","default","_Component","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","__proto__","getPrototypeOf","call","apply","concat","state","props","input","handleChange","event","index","onChange","setState","addAllowEmpty","choices","allowEmpty","createElement","key","primaryText","renderMenuItem","choice","_this$props","optionText","optionValue","translate","translateChoice","choiceName","isValidElement","cloneElement","record","_","componentWillReceiveProps","nextProps","render","_props","elStyle","isRequired","label","meta","options","resource","source","Error","touched","error","floatingLabelText","autoWidth","style","errorText","map","Component","propTypes","addField","bool","arrayOf","object","string","oneOfType","func","element","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.SelectInput = undefined;\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lodash = require('lodash.get');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _SelectField = require('material-ui/SelectField');\n\nvar _SelectField2 = _interopRequireDefault(_SelectField);\n\nvar _MenuItem = require('material-ui/MenuItem');\n\nvar _MenuItem2 = _interopRequireDefault(_MenuItem);\n\nvar _translate = require('../../i18n/translate');\n\nvar _translate2 = _interopRequireDefault(_translate);\n\nvar _FieldTitle = require('../../util/FieldTitle');\n\nvar _FieldTitle2 = _interopRequireDefault(_FieldTitle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * An Input component for a select box, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property an the option text\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <SelectInput source=\"gender\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <SelectInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <SelectInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectInput source=\"gender\" choices={choices} optionText={<FullNameField />}/>\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <SelectInput source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * The object passed as `options` props is passed to the material-ui <SelectField> component\n */\nvar SelectInput = exports.SelectInput = function (_Component) {\n    (0, _inherits3.default)(SelectInput, _Component);\n\n    function SelectInput() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        (0, _classCallCheck3.default)(this, SelectInput);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = SelectInput.__proto__ || Object.getPrototypeOf(SelectInput)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n            value: _this.props.input.value\n        }, _this.handleChange = function (event, index, value) {\n            _this.props.input.onChange(value);\n            _this.setState({ value: value });\n        }, _this.addAllowEmpty = function (choices) {\n            if (_this.props.allowEmpty) {\n                return [_react2.default.createElement(_MenuItem2.default, { value: null, key: 'null', primaryText: '' })].concat((0, _toConsumableArray3.default)(choices));\n            }\n\n            return choices;\n        }, _this.renderMenuItem = function (choice) {\n            var _this$props = _this.props,\n                optionText = _this$props.optionText,\n                optionValue = _this$props.optionValue,\n                translate = _this$props.translate,\n                translateChoice = _this$props.translateChoice;\n\n            var choiceName = _react2.default.isValidElement(optionText) // eslint-disable-line no-nested-ternary\n            ? _react2.default.cloneElement(optionText, { record: choice }) : typeof optionText === 'function' ? optionText(choice) : (0, _lodash2.default)(choice, optionText);\n            return _react2.default.createElement(_MenuItem2.default, {\n                key: (0, _lodash2.default)(choice, optionValue),\n                primaryText: translateChoice ? translate(choiceName, { _: choiceName }) : choiceName,\n                value: (0, _lodash2.default)(choice, optionValue)\n            });\n        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n    }\n    /*\n     * Using state to bypass a redux-form comparison but which prevents re-rendering\n     * @see https://github.com/erikras/redux-form/issues/2456\n     */\n\n\n    (0, _createClass3.default)(SelectInput, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (nextProps.input.value !== this.props.input.value) {\n                this.setState({ value: nextProps.input.value });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                choices = _props.choices,\n                elStyle = _props.elStyle,\n                isRequired = _props.isRequired,\n                label = _props.label,\n                meta = _props.meta,\n                options = _props.options,\n                resource = _props.resource,\n                source = _props.source;\n\n            if (typeof meta === 'undefined') {\n                throw new Error(\"The SelectInput component wasn't called within a redux-form <Field>. Did you decorate it and forget to add the addField prop to your component? See https://marmelab.com/admin-on-rest/Inputs.html#writing-your-own-input-component for details.\");\n            }\n            var touched = meta.touched,\n                error = meta.error;\n\n\n            return _react2.default.createElement(\n                _SelectField2.default,\n                (0, _extends3.default)({\n                    value: this.state.value,\n                    floatingLabelText: _react2.default.createElement(_FieldTitle2.default, {\n                        label: label,\n                        source: source,\n                        resource: resource,\n                        isRequired: isRequired\n                    }),\n                    onChange: this.handleChange,\n                    autoWidth: true,\n                    style: elStyle,\n                    errorText: touched && error\n                }, options),\n                this.addAllowEmpty(choices.map(this.renderMenuItem))\n            );\n        }\n    }]);\n    return SelectInput;\n}(_react.Component);\n\nSelectInput.propTypes = {\n    addField: _propTypes2.default.bool.isRequired,\n    allowEmpty: _propTypes2.default.bool.isRequired,\n    choices: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    elStyle: _propTypes2.default.object,\n    input: _propTypes2.default.object,\n    isRequired: _propTypes2.default.bool,\n    label: _propTypes2.default.string,\n    meta: _propTypes2.default.object,\n    options: _propTypes2.default.object,\n    optionText: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func, _propTypes2.default.element]).isRequired,\n    optionValue: _propTypes2.default.string.isRequired,\n    resource: _propTypes2.default.string,\n    source: _propTypes2.default.string,\n    translate: _propTypes2.default.func.isRequired,\n    translateChoice: _propTypes2.default.bool.isRequired\n};\n\nSelectInput.defaultProps = {\n    addField: true,\n    allowEmpty: false,\n    choices: [],\n    options: {},\n    optionText: 'name',\n    optionValue: 'id',\n    translateChoice: true\n};\n\nexports.default = (0, _translate2.default)(SelectInput);"]},"metadata":{},"sourceType":"script"}